/* Cerbi â€” Theme Hotfix Layer
   Load AFTER styles/cerbi-theme.css. Keeps your design, fixes:
   - theme variable bridging & specificity
   - command palette default state
   - hero/contact spacing consistency
*/

/* ---- Bridge variables expected by components ---- */
:root{
  /* map commonly-used tokens so both old/new CSS work */
  --surface: var(--panel);
  --surface-2: var(--panel-2);
  --line: var(--line, rgba(127,148,179,.25));
  --border: var(--line);
}

/* Increase specificity so theme flips always win over :root defaults */
:root[data-theme="dark"] { color-scheme: dark; }
:root[data-theme="light"]{
  color-scheme: light;
  --border: var(--glass-border, rgba(16,24,40,0.10));
  --line: var(--glass-border, rgba(16,24,40,0.10));
}
:root[data-theme="dusk"]  { color-scheme: dark; }
:root[data-theme="emerald"]{ color-scheme: dark; }
:root[data-theme="violet"]{ color-scheme: dark; }

/* ---- CmdK overlay must be closed unless explicitly opened ---- */
.cmdk-overlay[aria-hidden="true"]{ display:none !important; }
.cmdk-overlay{
  position:fixed; inset:0; z-index:1200;
  display:grid; place-items:center;
  background:rgba(0,0,0,.35); backdrop-filter:blur(3px);
}
.cmdk{
  width:min(720px,92vw);
  border-radius:14px;
  background: var(--surface, #0d1325);
  border:1px solid var(--border);
  box-shadow: 0 18px 44px rgba(2,10,35,.45);
  overflow:hidden;
}
.cmdk .header{display:flex;align-items:center;gap:10px;padding:10px 12px;border-bottom:1px solid var(--border)}
.cmdk .header .kbd{background:rgba(127,148,179,.12);padding:2px 6px;border-radius:6px}
.cmdk .header input{flex:1;background:transparent;border:0;outline:0;padding:8px 6px;color:var(--text)}
.cmdk .list{max-height:52vh;overflow:auto}

/* ---- Vertical rhythm: give sections breathing room & avoid collisions ---- */
.container.section { position:relative; z-index:1; }
.hero { position:relative; z-index:1; }

/* ensure value rotator + buttons + logos have clean separation */
.value-rotator{ margin-bottom: 24px !important; }
.hero-cta-row{ margin-top: 18px !important; margin-bottom: 8px !important; }
.logo-row{ margin-top: 14px !important; }

/* contact section: keep centered feel on wide screens */
#contact .container { display:block; }
#contact .grid{ align-items:start; }
#contact .glass.tilt { margin-left:auto; margin-right:auto; }

/* ---- Mobile nav safeguard (no overflow jump) ---- */
@media (max-width:820px){
  .nav .nav-links{ max-height: 70vh; overflow-y:auto; }
}

/* ---- Slider dots clickable area never overlaps later sections ---- */
#dashboards .img-frame{ position:relative; z-index:0; }
#dashSlider{ position:relative; z-index:0; }
#dashSlider .slide{ z-index:0; }

/* ---- Buttons contrast in light theme ---- */
:root[data-theme="light"] .btn-primary{
  background: var(--accent);
  color: #000;
  border-color: transparent;
  box-shadow: 0 16px 40px rgba(255,77,0,.16);
}

/* ---- Safety: avoid accidental horizontal scrollbars ---- */
html, body { overflow-x: hidden; }
