/* ================== Nav & hero structural rules ================== */
* { box-sizing: border-box; }
html, body { height: 100%; }
body{ margin:0; line-height:1.55; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility; }

.container{ width:min(1200px, 92vw); margin-inline:auto; }
.section{ padding: 40px 0; }

/* Fix: background layers behind everything */
#dynamic-bg{ position:fixed; inset:0; z-index:-6; pointer-events:none; overflow:hidden }
.tiles{ position:fixed; inset:0; z-index:-6; pointer-events:none; }
.sky{ position:fixed; inset:0; z-index:-5; pointer-events:none; display:block; }
.veil{ position:fixed; inset:0; z-index:-4; pointer-events:none; }
.spotlight{ position:fixed; inset:0; z-index:-3; pointer-events:none; }

/* Glyph clock just above bg, below content */
#bg-clock{
  position: fixed; inset:0; display:grid; place-items:center;
  z-index: -2; pointer-events: none; user-select: none; line-height:1;
  color: var(--glyph); opacity: var(--clock-opacity, .18);
  font-weight: 800;
}

/* Ribbon non-sticky to avoid top gaps */
#topRibbon{ position: relative; top:0; z-index:900; background: linear-gradient(0deg, rgba(0,0,0,.18), rgba(0,0,0,.18)), var(--nav-bg); }

/* ------------------ NAV ------------------ */
.nav .nav-inner{
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  padding: 10px 0;
}
.nav .brand{ display:flex; align-items:center; gap:10px; text-decoration:none; color: var(--text); white-space:nowrap; }
.nav .brand img{ height:36px; width:auto; border-radius:8px; }
.nav .brand span{ font-weight:800; letter-spacing:.2px; }

.nav-links{
  display:flex; gap:10px; align-items:center;
  max-width: clamp(420px, 52vw, 700px);
  overflow-x: auto; overflow-y: hidden;
  padding:4px 2px;
  scroll-snap-type: x proximity;
}
.nav-links a{
  scroll-snap-align: start;
  text-decoration:none; color: var(--text);
  padding:6px 8px; border-radius:10px;
  white-space:nowrap;
}
.nav-links a:hover{ background: var(--chip-bg); }

.nav-actions{ display:flex; align-items:center; gap:8px; flex-shrink:0; }
.theme-toggle{ background: transparent; border: 1px solid var(--border); border-radius: 10px; padding: 6px 10px; cursor: pointer; }

@media (max-width: 980px){
  .nav-links{ display:none; } /* collapse to prevent logo overlap */
}

/* ------------------ HERO ------------------ */
.hero{ position:relative; }
.hero .chip-row{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px; }
.hero .sub{ color: var(--muted); max-width: 70ch; }

.hero-bg{ position:absolute; inset:0; width:100%; height:100%; z-index:-1; }
.orbit{ position:relative; height:0; } /* keeps your orbit markup harmless */

/* WHY slider dots */
.dash-slider .dots{ display:flex; gap:8px; justify-content:center; margin-top:10px; }
.dash-slider .dots button{
  width:10px; height:10px; border-radius:50%;
  border:1px solid var(--border); background: var(--chip-bg);
}
.dash-slider .dots button.active{ background: var(--accent); border-color: var(--accent); }

/* Pop-art â€” only one visible */
.sig-rotator{ position:relative; min-height: clamp(220px, 40vw, 520px); display:grid; place-items:center; overflow:hidden; background: var(--card); }
.sig-rotator img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; visibility:hidden; transform:scale(1.02); transition: opacity .4s ease, visibility .4s ease, transform .5s ease; }
.sig-rotator img.is-active{ opacity:1; visibility:visible; transform:none; }

/* Contact FAB stable hover (no jump) */
.contact-fab{
  position: fixed; right: 22px; top: 50%; transform: translateY(-50%);
  z-index: 900; filter: drop-shadow(0 6px 18px rgba(0,0,0,.35));
  transition: filter .15s ease;
}
.contact-fab:hover{ filter: drop-shadow(0 10px 22px rgba(0,0,0,.45)); }
@media (max-width: 720px){
  .contact-fab{ right:16px; bottom:16px; top:auto; transform:none; }
}

/* Dashboards (full bleed showcase) */
.full-bleed-wrap.full-bleed{ width:100vw; margin-left: calc(50% - 50vw); }
.showcase{ position:relative; }
.showcase-viewport{ position:relative; }
.showcase .slide{ margin:0; display:none; }
.showcase .slide.active{ display:block; }
.showcase img{ display:block; width:100%; height:auto; max-height: calc(100vh - 220px); object-fit: contain; }
.dash-arrows{ display:flex; gap:8px; justify-content:center; margin-top:10px; }

/* Switch */
.switch{
  --sw-on: var(--brand);
  --sw-off: color-mix(in srgb, var(--chip-bg) 60%, transparent);
  position: relative; display:inline-block; width:56px; height:30px;
  border-radius:999px; background: var(--sw-off);
  border:1px solid var(--border); box-shadow: inset 0 -1px 0 rgba(0,0,0,.06);
}
.switch::after{ content:''; position:absolute; top:3px; left:3px; width:24px; height:24px; border-radius:50%; background:#fff; box-shadow: 0 4px 10px rgba(0,0,0,.20); transition: transform .22s ease; }
.switch[aria-pressed="true"]{ background: var(--sw-on); border-color: color-mix(in srgb, var(--sw-on), black 12%); }
.switch[aria-pressed="true"]::after{ transform: translateX(26px); }
