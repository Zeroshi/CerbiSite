/* ============================================================
   CerbiSite Theme System (Light-first, High-Contrast)
   - Update --logo to your exact brand blue to propagate accents.
   - Each theme defines readable bg/panel/text/link colors.
   - Live Rule Check toggle pulls from --logo for instant match.
   ============================================================ */

:root{
  --logo: #1f9bff; /* <-- UPDATE to match your logo color exactly */
  --radius: 14px;
  --shadow: 0 12px 32px rgba(0,0,0,.12);
  --ring: color-mix(in oklab, var(--logo), white 70%);

  /* base fallbacks (light) */
  --bg: #f7f9fc;
  --panel: #ffffff;
  --panel-2: #f2f5fb;
  --text: #0c1222;          /* ~14:1 contrast on white */
  --text-strong: #000000;
  --muted: #5a6a88;
  --accent: var(--logo);
  --accent-2: color-mix(in oklab, var(--logo), white 20%);
  --link: color-mix(in oklab, var(--logo), black 10%);
  --ok:#15803d; --warn:#b45309; --danger:#b91c1c;
}

/* ===== Themes (light-first) ===== */

/* Powder Blue (default bias) */
html[data-theme="powder"]{
  --bg:#eef4fb; --panel:#ffffff; --panel-2:#e7f0fb;
  --text:#0b1424; --text-strong:#000; --muted:#445472;
  --accent:#3aa3ff; --accent-2:#6ebcff; --link:#1477d6;
}

/* Celadon Frost */
html[data-theme="celadon"]{
  --bg:#eef7f3; --panel:#ffffff; --panel-2:#e6f3ee;
  --text:#0c1512; --text-strong:#000; --muted:#3e5a52;
  --accent:#2fbf9a; --accent-2:#7ddcc3; --link:#1d8e76;
}

/* Pearl */
html[data-theme="pearl"]{
  --bg:#fafafa; --panel:#ffffff; --panel-2:#f1f1f1;
  --text:#0c0c0d; --text-strong:#000; --muted:#505056;
  --accent:#6f77ff; --accent-2:#9aa0ff; --link:#4147d6;
}

/* Sand */
html[data-theme="sand"]{
  --bg:#fbf8f2; --panel:#ffffff; --panel-2:#f4efe5;
  --text:#14100b; --text-strong:#000; --muted:#6b6154;
  --accent:#f8993a; --accent-2:#f6b269; --link:#cf6c0e;
}

/* Mint */
html[data-theme="mint"]{
  --bg:#f1fbf7; --panel:#ffffff; --panel-2:#e8f7f1;
  --text:#0d1713; --text-strong:#000; --muted:#3d5b4f;
  --accent:#1fcc89; --accent-2:#65e0b1; --link:#149a69;
}

/* Rose (soft, still high-contrast) */
html[data-theme="rose"]{
  --bg:#fff2f4; --panel:#ffffff; --panel-2:#ffe6ea;
  --text:#201014; --text-strong:#000; --muted:#6a3c46;
  --accent:#f95a8b; --accent-2:#ff8fb0; --link:#c02c5a;
}

/* Iceberg */
html[data-theme="iceberg"]{
  --bg:#eff7ff; --panel:#ffffff; --panel-2:#e7f0ff;
  --text:#0a1220; --text-strong:#000; --muted:#3f5474;
  --accent:#4fb5ff; --accent-2:#86cdff; --link:#1a80d6;
}

/* Peach */
html[data-theme="peach"]{
  --bg:#fff4ee; --panel:#ffffff; --panel-2:#ffebe1;
  --text:#20130f; --text-strong:#000; --muted:#6a4d44;
  --accent:#ff8a5c; --accent-2:#ffb094; --link:#db5b2a;
}

/* Slate-light (cool grayscale with logo accents) */
html[data-theme="slate-light"]{
  --bg:#f5f7fa; --panel:#ffffff; --panel-2:#edf1f7;
  --text:#0b1324; --text-strong:#000; --muted:#4b5b74;
  --accent: var(--logo); --accent-2: color-mix(in oklab, var(--logo), white 25%); --link: color-mix(in oklab, var(--logo), black 10%);
}

/* Violet Frost */
html[data-theme="violet-frost"]{
  --bg:#f6f2ff; --panel:#ffffff; --panel-2:#eee8ff;
  --text:#140e20; --text-strong:#000; --muted:#5a4a77;
  --accent:#7a73ff; --accent-2:#a49fff; --link:#4c44d6;
}

/* Aurora Dark (kept for users who prefer dark mode) */
html[data-theme="aurora-dark"]{
  --bg:#0a1224; --panel:#0f172a; --panel-2:#0b1325;
  --text:#e9edf6; --text-strong:#ffffff; --muted:#9fb1d2;
  --accent: var(--logo); --accent-2:#63bfff; --link:#7dc7ff;
  --shadow: 0 18px 44px rgba(2,10,35,.45);
  --ring: color-mix(in oklab, var(--logo), white 50%);
}

/* ====== Base Layout ====== */

* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.55;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

.wrap{
  width:min(1200px, 92vw);
  margin-inline:auto;
}

/* ===== Header ===== */
.site-header{
  position: sticky;
  top: 0;
  z-index: 1000;
  backdrop-filter: blur(10px);
  background: color-mix(in oklab, var(--bg), transparent 35%);
  border-bottom: 1px solid color-mix(in oklab, var(--panel-2), transparent 65%);
}
.site-header .wrap{
  display:flex; align-items:center; justify-content:space-between;
  padding: 12px 0;
}
.brand{
  display:flex; align-items:center; gap:10px; font-weight:800; text-decoration:none; color:var(--text);
}
.brand-mark{ font-size: 22px; }
.brand-text{ letter-spacing:.2px; }
.brand-accent{ color: var(--accent); }

.nav{
  display:flex; align-items:center; gap: 18px;
}
.nav a{
  text-decoration:none; color: var(--text);
  padding:8px 10px; border-radius:10px;
}
.nav a:hover{ background: var(--panel-2); }

.btn{
  appearance:none; border:none; cursor:pointer; border-radius:12px;
  padding:10px 14px; font-weight:600;
  transition: transform .06s ease, box-shadow .2s ease, background .2s ease, color .2s ease;
}
.btn.primary{
  background: var(--accent); color: white; box-shadow: var(--shadow);
}
.btn.primary:hover{ transform: translateY(-1px); }
.btn.ghost{
  background: transparent; color: var(--link); outline: 1px solid color-mix(in oklab, var(--link), transparent 50%);
}
.theme-btn{
  background: var(--panel-2); color: var(--text);
  outline: 1px solid color-mix(in oklab, var(--text), transparent 70%);
}

/* ===== Hero ===== */
.hero{
  padding: 48px 0 24px 0;
}
.hero-inner{
  display:grid; grid-template-columns: 1.2fr .8fr; gap: 28px; align-items: stretch;
}
.hero-copy h1{
  margin:0 0 10px 0; font-size: clamp(28px, 3vw, 42px); line-height:1.12; color: var(--text-strong);
}
.hero-copy p{ margin:0 0 16px 0; color: var(--muted); max-width: 60ch; }
.cta-row{ display:flex; gap:12px; flex-wrap: wrap; }

/* Demo toggle card */
.demo-toggle-card{
  background: var(--panel);
  border: 1px solid color-mix(in oklab, var(--text), transparent 85%);
  border-radius: var(--radius);
  padding: 18px;
  box-shadow: var(--shadow);
  align-self: start;
}
.demo-head{
  display:flex; align-items:center; justify-content:space-between; gap: 12px;
}
.demo-toggle-card h2{
  margin:0; font-size: 18px; line-height: 1.2; color: var(--text-strong);
}
.demo-note{ margin: 10px 0 0 0; color: var(--muted); }

/* ===== Switch (uses --logo for accent) ===== */
.switch{
  --track: color-mix(in oklab, var(--panel-2), black 5%);
  --on: var(--logo);  /* <- brand color here */
  position: relative; display: inline-flex; align-items: center; gap:10px;
  width: 54px; height: 30px; border-radius: 999px;
}
.switch input{ position:absolute; inset:0; margin:0; opacity:0; cursor:pointer; }
.switch .track{
  position:absolute; inset:0; background: var(--track); border-radius:999px;
  border: 1px solid color-mix(in oklab, var(--track), black 6%);
  transition: background .2s ease, border-color .2s ease, box-shadow .2s ease;
}
.switch .knob{
  position:absolute; top:3px; left:3px; width:24px; height:24px; border-radius:50%;
  background:white; box-shadow: 0 4px 12px rgba(0,0,0,.18);
  transition: transform .22s ease;
}
.switch input:focus-visible + .track{ box-shadow: 0 0 0 5px var(--ring); }
.switch input:checked + .track{ background: var(--on); border-color: var(--on); }
.switch input:checked ~ .knob{ transform: translateX(24px); }

/* ===== Modules ===== */
.modules{ position: relative; padding: 18px 0 64px 0; }
.grid{
  display:grid; gap: 14px;
  grid-template-columns: repeat(4, minmax(0,1fr));
}
.card{
  background: var(--panel);
  border: 1px solid color-mix(in oklab, var(--text), transparent 85%);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow);
}
.card h3{ margin: 0 0 6px 0; color: var(--text-strong); }
.card p{ margin: 0 0 10px 0; color: var(--muted); }
.card .link{ color: var(--link); text-decoration: none; font-weight: 600; }
.card .link:hover{ text-decoration: underline; }

/* ===== Contact FAB (right of modules) ===== */
.contact-fab{
  position: fixed;
  right: clamp(12px, 2vw, 24px);
  top: 0; /* we set vertical position via --fab-y in JS */
  transform: translateY(calc(var(--fab-y, 60vh) - 50%));
  width: 54px; height: 54px; display:grid; place-items:center;
  background: var(--accent); color: white; text-decoration:none; font-size: 22px;
  border-radius: 16px;
  box-shadow: var(--shadow);
  outline: 2px solid color-mix(in oklab, var(--accent), white 40%);
}
.contact-fab:hover{ filter: brightness(1.05); transform: translateY(calc(var(--fab-y, 60vh) - 50%)) scale(1.02); }
.contact-fab:active{ transform: translateY(calc(var(--fab-y, 60vh) - 50%)) scale(.98); }

/* ===== Contact Section ===== */
.contact{ padding: 32px 0 64px 0; }
.contact h2{ margin:0 0 8px 0; color: var(--text-strong); }
.contact p{ margin:0; color: var(--muted); }
.contact-embed{
  width: 100%; height: 720px; border: none; margin-top: 16px;
  background: var(--panel);
  border: 1px solid color-mix(in oklab, var(--text), transparent 85%);
  border-radius: var(--radius);
}

/* ===== Footer ===== */
.site-footer{
  padding: 18px 0;
  border-top: 1px solid color-mix(in oklab, var(--panel-2), transparent 65%);
  background: color-mix(in oklab, var(--bg), transparent 35%);
}
.site-footer small{ color: var(--muted); }

/* ===== Responsive ===== */
@media (max-width: 980px){
  .hero-inner{ grid-template-columns: 1fr; }
  .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 640px){
  .grid{ grid-template-columns: 1fr; }
  .contact-fab{ right: 12px; width: 48px; height: 48px; font-size: 20px; }
}

/* ===== Optional: live demo global hook ===== */
html[data-live-demo] .demo-toggle-card{
  outline: 2px dashed var(--accent);
  outline-offset: 3px;
}

/* ======================= Cerbi size overrides (safe) ======================= */

/* Slightly wider content column */
.wrap{ width:min(1320px, 96vw); }

/* Base text size up a notch (affects rem-based bits, browser UI balance) */
html { font-size: 17px; }  /* was ~16px; +6% is noticeable but not jarring */

/* Headings and hero scale (stay responsive, just larger ceilings) */
.hero .hero-copy h1{
  /* from clamp(28px, 3vw, 42px) */
  font-size: clamp(32px, 4.8vw, 56px);
}
.hero .hero-copy p{ font-size: 1.05rem; }

/* Section headings generally */
h2{ font-size: clamp(24px, 3.2vw, 36px); line-height: 1.18; }
h3{ font-size: clamp(18px, 2.2vw, 24px); line-height: 1.22; }

/* Buttons + chips gain breathing room */
.btn{
  padding: 12px 18px;         /* was 10px 14px */
  border-radius: 14px;        /* was 12px */
  font-weight: 650;
}
.btn.ghost{ outline-width: 2px; }

/* Cards feel roomier without looking empty */
.card{
  padding: 20px;              /* was 16px */
  border-radius: 16px;        /* was var(--radius)=14px */
}

/* Feature grid spacing */
.grid{ gap: 18px; }           /* was 14px */

/* Contact FAB remains proportionate */
.contact-fab{
  width: 60px; height: 60px;  /* was 54px (or 48 on mobile) */
  border-radius: 18px;
  font-size: 24px;
}
@media (max-width: 640px){
  .contact-fab{ width: 52px; height: 52px; font-size: 22px; }
}

/* Demo toggle card header—slightly larger label */
.demo-toggle-card h2{ font-size: 19px; }

/* Module cards body text */
.card p{ font-size: 1.04rem; }

/* Footer legibility bump */
.site-footer small{ font-size: .95rem; }
