/* Keep text contrast sane across themes */
html, body { color: var(--text); }
h1,h2,h3{ color: var(--heading); }
.img-cap, .muted, .k { color: var(--muted); }

/* Ensure content paints above background stacks */
main, header, footer, .contact-fab, .lightbox, .ribbon { position: relative; z-index: 1; }

/* Prevent accidental top whitespace caused by sticky stacking contexts */
body { padding-top: 0; }
#progress{ position: fixed; left:0; top:0; width: var(--progress, 0%); height:3px; background: var(--accent); z-index: 1100; }

/* Lightbox base */
.lightbox{ position: fixed; inset:0; background: rgba(0,0,0,.65); display:grid; place-items:center; z-index: 1200; }
.lightbox[hidden]{ display:none !important; }
.lightbox img{ max-width: 92vw; max-height: 90vh; display:block; border-radius: 8px; box-shadow: 0 12px 40px rgba(0,0,0,.4); }
.lightbox .close{ position:absolute; top: 16px; right: 16px; }

/* Tables, code */
.table{ width:100%; border-collapse: collapse; }
.table th,.table td{ border:1px solid var(--divider); padding:.5em .6em; }
pre.codeblock, .kbd{ background: var(--kbd-bg); color: var(--kbd-text); padding:12px; border-radius:10px; border:1px solid var(--border); overflow:auto; }
