/* Cerbi â€” global fixes & safe overrides */

/* Reset spacing */
html, body { margin: 0; padding: 0; min-height: 100%; }
* { box-sizing: border-box; }
img { max-width: 100%; height: auto; }

/* Keep nav on top; ribbon not sticky (no phantom gap) */
.nav { position: sticky; top: 0; z-index: 1000; }
#topRibbon.ribbon { position: relative; top: 0; z-index: 900; }

/* Progress bar */
#progress {
  position: fixed; left: 0; top: 0; width: var(--progress, 0%);
  height: 3px; background: var(--accent, #ff4d00); z-index: 1100;
}

/* Background layers: stay behind everything */
#dynamic-bg { position: fixed; inset: 0; z-index: -6; pointer-events: none; }
.tiles       { position: fixed; inset: 0; z-index: -6; pointer-events: none; }
.sky         { position: fixed; inset: 0; z-index: -5; pointer-events: none; display: block; }
.veil        { position: fixed; inset: 0; z-index: -4; pointer-events: none; }
.spotlight   { position: fixed; inset: 0; z-index: -3; pointer-events: none; }

/* Glyph clock should sit above bg but under content */
#bg-clock { z-index: -2; }

/* Pop-art: show only the active image */
.sig-rotator {
  position: relative; display: grid; place-items: center;
  overflow: hidden; min-height: clamp(220px, 40vw, 520px);
  background: var(--card, #111);
}
.sig-rotator img {
  position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover;
  opacity: 0; visibility: hidden; transform: scale(1.02);
  transition: opacity .40s ease, visibility .40s ease, transform .50s ease;
}
.sig-rotator img.is-active { opacity: 1; visibility: visible; transform: none; }

/* Contact FAB: stable, no hover drift */
.contact-fab{
  position: fixed; right: 22px; top: 50%; transform: translateY(-50%);
  z-index: 900; filter: drop-shadow(0 6px 18px rgba(0,0,0,.35));
  transition: filter .15s ease;
}
.contact-fab:hover{ filter: drop-shadow(0 10px 22px rgba(0,0,0,.45)); }
@media (max-width: 720px){
  .contact-fab{ right: 16px; bottom: 16px; top: auto; transform: none; }
}

/* Live Rule Check switch (brand color) */
.switch{
  --sw-on: var(--brand, #ff4d00);
  --sw-off: color-mix(in srgb, var(--chip-bg, rgba(0,0,0,.08)) 60%, transparent);
  position: relative; display: inline-block; width: 56px; height: 30px;
  border-radius: 999px; background: var(--sw-off);
  border: 1px solid var(--border, rgba(255,255,255,.12));
  box-shadow: inset 0 -1px 0 rgba(0,0,0,.06);
}
.switch::after{
  content:''; position:absolute; top:3px; left:3px;
  width:24px; height:24px; border-radius:50%;
  background: #fff; box-shadow: 0 4px 10px rgba(0,0,0,.20);
  transition: transform .22s ease;
}
.switch[aria-pressed="true"]{
  background: var(--sw-on);
  border-color: color-mix(in srgb, var(--sw-on), black 12%);
}
.switch[aria-pressed="true"]::after{ transform: translateX(26px); }

/* Slider dots contrast */
.dash-slider .dots button{
  background: var(--chip-bg, rgba(255,255,255,.08));
  border: 1px solid var(--border, rgba(255,255,255,.12));
}
.dash-slider .dots button.active{
  background: var(--accent, #ff4d00);
  border-color: transparent;
}

/* Focus ring */
:focus-visible{ outline: none; box-shadow: var(--focus, 0 0 0 3px rgba(255,77,0,.35)); border-radius: 6px; }
