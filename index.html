<!DOCTYPE html>
<html lang="en" data-theme="cerbi-light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CerbiSuite — Unified Logging, Governance & Observability</title>

  <!-- ONE LIGHT THEME (logo orange accents) -->
  <style>
    /* ------------------ Tokens ------------------ */
    :root{
      --brand:#ff4d00;              /* logo orange */
      --brand-600:#ff6b2f;
      --brand-700:#ff5a16;
      --ink:#0f2438;                /* body text */
      --ink-2:#37526a;              /* muted */
      --cream:#FFFDF5;              /* page bg */
      --panel:#ffffff;              /* cards/nav */
      --panel-2:#f6f8fb;            /* soft panel */
      --border:#e5e9f2;
      --ring:rgba(255,77,0,.25);
      --shadow:0 10px 30px rgba(10,20,30,.12);
      --shadow-strong:0 18px 45px rgba(10,20,30,.18);
      --radius:12px;

      --nav-h:68px;
      --clock-opacity:.22;
    }

    html,body{height:100%;}
    body{
      margin:0;
      background: linear-gradient(180deg, var(--cream), #f8fafc 42%, var(--cream));
      color:var(--ink);
      font: 16px/1.55 Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol", sans-serif;
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
    }

    /* ------------------ Global ------------------ */
    .container{ width:min(1200px, 92vw); margin-inline:auto; }
    h1,h2,h3,h4,h5{ color:var(--brand); letter-spacing:.2px; margin:0 0 .35em; }
    h1{ font-size: clamp(34px, 5.4vw, 48px); line-height:1.08; }
    h2{ font-size: clamp(24px, 3.2vw, 32px); }
    h3{ font-size: clamp(18px, 2vw, 22px); color: var(--ink); }
    p.lead{ color:var(--ink-2); font-size: 18px; }
    .k, .muted{ color:var(--ink-2); }
    a{ color:var(--brand-700); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .btn{
      display:inline-flex; align-items:center; gap:8px;
      border-radius:12px; padding:10px 14px; font-weight:700;
      border:1px solid transparent; cursor:pointer; user-select:none;
      transition: transform .08s ease, box-shadow .25s ease, background .25s ease, color .25s ease;
    }
    .btn:focus-visible{ box-shadow:0 0 0 4px var(--ring); outline:none; }
    .btn-primary{ background:var(--brand); color:#fff; box-shadow: var(--shadow); }
    .btn-primary:hover{ background:var(--brand-600); transform: translateY(-1px); }
    .btn-ghost{ background:#fff; color:var(--ink); border-color:var(--border); }
    .btn-ghost:hover{ background:var(--panel-2); }

    .chip{ display:inline-flex; align-items:center; gap:6px; padding:8px 10px; border-radius:999px;
      background:#fff; border:1px solid var(--border); color:var(--ink); }
    .pill{ display:inline-block; padding:.15em .55em; border-radius:999px; font-size:12px; font-weight:700 }
    .ok{ background:#e8f8ef; color:#10704a; } .beta{ background:#fff3e6; color:#8c4a07 } .planned{ background:#eef2ff; color:#353db3 }

    .card{ background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); padding:16px; box-shadow: var(--shadow); }
    .img-frame{ background:#fff; border:1px solid var(--border); border-radius:var(--radius); box-shadow: var(--shadow-strong); overflow:hidden }
    .img-cap{ color:var(--ink-2); text-align:center; padding:8px 10px }

    .section{ padding: clamp(28px, 5vw, 56px) 0; }
    .grid{ display:grid; gap:14px; grid-template-columns: repeat(12, minmax(0,1fr)); }
    .col-4{ grid-column: span 4 / span 4; } .col-6{ grid-column: span 6 / span 6; } .col-12{ grid-column: 1 / -1; }

    @media (max-width:1000px){ .col-6{ grid-column:1/-1 } .col-4{ grid-column: span 6 / span 6; } }
    @media (max-width:640px){ .col-4{ grid-column:1/-1 } }

    /* ------------------ Background layers ------------------ */
    #dynamic-bg{ position:fixed; inset:0; z-index:-5; pointer-events:none; }
    /* GLYPH CLOCK (behind content, above bg) */
    #bg-clock{
      position:fixed; inset:0; display:grid; place-items:center; z-index:-2; pointer-events:none;
      color: rgba(255,77,0,.14); opacity: var(--clock-opacity);
      font-weight: 900; letter-spacing:.04em; mix-blend-mode:multiply;
      text-shadow: 0 8px 30px rgba(255,77,0,.2), 0 0 2px rgba(255,77,0,.2);
    }
    /* subtle glitch effect */
    #bg-clock .gl{ position:relative; filter: drop-shadow(0 8px 26px rgba(255,77,0,.18)); }
    #bg-clock .gl::before, #bg-clock .gl::after{
      content: attr(data-txt);
      position:absolute; inset:0; pointer-events:none; opacity:.35; mix-blend-mode:screen;
    }
    #bg-clock .gl::before{ transform: translate(-2px,0); color:#ff7845; }
    #bg-clock .gl::after{ transform: translate(2px,0); color:#ffb08d; }

    /* ------------------ Nav ------------------ */
    .nav{
      position: sticky; top:0; z-index:1000; background: rgba(255,255,255,.86); backdrop-filter: blur(10px);
      border-bottom:1px solid var(--border);
    }
    .nav-inner{ display:flex; align-items:center; justify-content:space-between; gap:16px; padding:10px 0; }
    .brand{ display:flex; align-items:center; gap:10px; color:var(--ink); text-decoration:none; font-weight:900; }
    .brand img{ height:36px; width:auto; border-radius:8px; filter: drop-shadow(0 0 8px rgba(255,77,0,.25)); }
    .brand span{ font-weight:900; letter-spacing:.2px }

    .nav-links{ display:flex; gap:10px; align-items:center; white-space:nowrap; overflow:visible; }
    .nav-links a{ color:var(--ink); text-decoration:none; padding:8px 10px; border-radius:8px; }
    .nav-links a:hover{ background:var(--panel-2); }
    .nav-actions{ display:flex; gap:10px; align-items:center; }

    /* Responsive overflow into "More ▾" */
    .nav-wrap{ display:flex; align-items:center; gap:16px; flex:1; overflow:visible }
    .nav-flex{ display:flex; align-items:center; gap:16px; min-width:0; flex:1 }
    .more{ position:relative }
    .more > button{ background:#fff; border:1px solid var(--border); padding:8px 10px; border-radius:10px; }
    .more-menu{
      position:absolute; right:0; top:calc(100% + 6px);
      background:#fff; border:1px solid var(--border); border-radius:12px; padding:6px; box-shadow: var(--shadow);
      display:none; min-width: 220px;
    }
    .more[aria-expanded="true"] .more-menu{ display:block; }
    .more-menu a{ display:block; padding:8px 10px; border-radius:8px; }
    .more-menu a:hover{ background:var(--panel-2); }

    /* ------------------ Hero ------------------ */
    .hero{ position:relative; padding: 44px 0 24px; }
    .chip-row{ display:flex; flex-wrap:wrap; gap:8px; margin-bottom:10px }
    .sub{ color:var(--ink-2); max-width:60ch; }
    .value-rotator{ margin-top:14px; }
    .dash-slider .dots{ display:flex; gap:6px; justify-content:center; margin-top:10px }
    .dash-slider .dots button{ width:10px; height:10px; border-radius:50%; border:1px solid var(--border); background:#fff }
    .dash-slider .dots button.active{ background:var(--brand); border-color:var(--brand); }

    .hero-bg{ position:absolute; inset:0; width:100%; height:100%; z-index:-1; }
    .orbit{ position:absolute; inset:auto 0 10px 0; display:flex; gap:10px; justify-content:center; }
    .orbit .dot{ width:6px; height:6px; border-radius:50%; background:var(--brand); opacity:.55; }

    /* ------------------ Pop-art full-bleed ------------------ */
    .full-bleed-wrap{ position:relative; }
    .full-bleed{ position:relative; width:100%; }
    .sig-rotator{ position:relative; width:100%; min-height: clamp(260px, 38vw, 520px); overflow:hidden; }
    .sig-rotator img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; visibility:hidden; transform:scale(1.02); transition: opacity .45s, visibility .45s, transform .6s }
    .sig-rotator img.is-active{ opacity:1; visibility:visible; transform:none; }
    #hero-art .img-cap{ text-align:center; font-family:"Roboto Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; font-weight:700; }

    /* ------------------ Usecases etc ------------------ */
    .tilt{ transform-style: preserve-3d; }
    .reveal{ opacity:0; transform: translateY(8px); transition: opacity .45s ease, transform .45s ease }
    .reveal.is-in{ opacity:1; transform:none }

    /* ------------------ Governance demo switch ------------------ */
    .switch{
      --sw-on: var(--brand); --sw-off: #f0f2f6;
      position: relative; display:inline-block; width: 56px; height: 30px; border-radius:999px;
      background: var(--sw-off); border:1px solid var(--border);
    }
    .switch::after{ content:''; position:absolute; top:3px; left:3px; width:24px; height:24px; border-radius:50%; background:#fff; box-shadow:0 4px 10px rgba(0,0,0,.18); transition: transform .22s ease }
    .switch[aria-pressed="true"]{ background:var(--sw-on); border-color: var(--sw-on) }
    .switch[aria-pressed="true"]::after{ transform: translateX(26px); }

    /* ------------------ Dashboards slider + lightbox ------------------ */
    .showcase{ border-radius:16px; }
    .showcase-inner{ position:relative }
    .showcase-viewport{ position:relative; width:100%; aspect-ratio: 16/9; background: #0b1424; }
    .showcase-viewport .slide{ position:absolute; inset:0; display:grid; place-items:center; opacity:0; visibility:hidden; transition: opacity .45s, visibility .45s; }
    .showcase-viewport .slide.active{ opacity:1; visibility:visible; }
    .showcase-viewport img{ width:100%; height:100%; object-fit:contain; background:#000; }

    .dash-arrows{ display:flex; justify-content:space-between; gap:8px; margin-top:8px }
    .lightbox{ position:fixed; inset:0; background:rgba(0,0,0,.72); display:grid; place-items:center; z-index:1200; }
    .lightbox[hidden]{ display:none }
    .lightbox .close{ position:absolute; top:14px; right:14px }

    /* ------------------ Tables ------------------ */
    .table{ width:100%; border-collapse: collapse; }
    .table th, .table td{ border:1px solid var(--border); padding:.6em .7em; text-align:left }
    .table thead th{ background:#f4f6fb; color:#1E3A8A; }

    /* Zebra rows for readability */
    .zebra tbody tr:nth-child(odd){ background:#fafbff }

    /* ------------------ FAB ------------------ */
    .contact-fab{
      position:fixed; right:18px; top:50%; transform: translateY(-50%);
      width:56px; height:56px; display:grid; place-items:center; z-index:950;
      border-radius:16px; background:#fff; border:1px solid var(--border); box-shadow: var(--shadow-strong);
      transition: transform .18s ease, box-shadow .2s ease, filter .2s ease;
    }
    .contact-fab img{ width:34px; height:34px; display:block; }
    .contact-fab:hover{ transform: translateY(calc(-50% - 2px)) scale(1.03); filter: saturate(1.1) }
    @media (max-width:760px){ .contact-fab{ right:14px; bottom:14px; top:auto; transform:none; width:52px; height:52px } }

    /* ------------------ Footer ------------------ */
    .footer{ padding:18px 0; border-top:1px solid var(--border); background:rgba(255,255,255,.86); backdrop-filter: blur(10px); }

    /* ------------------ Overlays default OFF ------------------ */
    .cmdk-overlay[aria-hidden="true"]{ display:none !important; }

    /* Accessibility */
    :focus-visible{ outline:none; box-shadow:0 0 0 4px var(--ring); border-radius:8px }
  </style>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Roboto+Mono:wght@600;700&display=swap" rel="stylesheet" />

  <!-- Favicons -->
  <link rel="icon" href="https://raw.githubusercontent.com/Zeroshi/CerbiSite/refs/heads/main/assets/favicon.ico" sizes="any" />
  <link rel="icon" type="image/png" sizes="16x16" href="https://github.com/Zeroshi/CerbiSite/raw/main/assets/favicon-16x16.png" />
  <link rel="apple-touch-icon" sizes="150x150" href="https://github.com/Zeroshi/CerbiSite/raw/main/assets/mstile-150x150.png" />
  <meta name="msapplication-TileImage" content="https://github.com/Zeroshi/CerbiSite/raw/main/assets/mstile-150x150.png" />

  <!-- Basic SEO -->
  <meta name="description" content="CerbiSuite brings structure to logs, enforces governance, and powers observability without lock-in." />
  <meta name="keywords" content="structured logging, governance, observability, .NET, MEL, Serilog, PII, audit" />
  <meta property="og:title" content="CerbiSuite — Unified Logging, Governance & Observability" />
  <meta property="og:description" content="Governed, ML-ready telemetry with audit-friendly controls." />
</head>

<body>
  <!-- Minimal background canvas (placeholder for any particles you keep) -->
  <div id="dynamic-bg" aria-hidden="true"><canvas id="bgCanvas"></canvas></div>

  <!-- GLYPH CLOCK -->
  <div id="bg-clock" aria-hidden="true">
    <div class="gl" id="clockGlyph" data-txt=""></div>
  </div>

  <!-- NAV -->
  <header id="siteNav" class="nav">
    <div class="container nav-inner">
      <a href="#top" class="brand" aria-label="Cerbi — back to top">
        <img src="assets/CerbiLogo.png" alt="Cerbi logo" loading="eager" decoding="async" />
        <span>CerbiSuite</span>
      </a>

      <div class="nav-wrap">
        <div class="nav-flex">
          <nav id="primaryNav" class="nav-links" aria-label="Primary">
            <!-- These stay visible while space allows -->
            <a href="#why">Why</a><a href="#usecases">Use Cases</a><a href="#quickstart">Quick Start</a>
            <a href="#ecosystem">Ecosystem</a><a href="#governance">Governance</a><a href="#dashboards">Dashboards</a>
            <a href="#packages">Packages</a><a href="#repos">Repos</a><a href="#compare">Compare</a>
            <a href="#architecture">Architecture</a><a href="#roadmap">Roadmap</a><a href="#interop">Interoperability</a><a href="#partners">Partners</a>
            <a href="docs/company.md" class="doc-link">Company</a>
            <a href="#contact">Contact</a>
          </nav>
          <!-- Overflow bucket -->
          <div class="more" id="moreWrap" aria-expanded="false">
            <button type="button" id="moreBtn" aria-haspopup="menu" aria-expanded="false">More ▾</button>
            <div class="more-menu" id="moreMenu" role="menu" aria-label="More"></div>
          </div>
        </div>

        <div class="nav-actions">
          <a class="btn btn-ghost" href="#contact" role="button">Contact</a>
          <a class="btn btn-primary" href="https://github.com/Zeroshi/Cerbi-CerbiStream" target="_blank" rel="noopener" role="button">GitHub</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Progress (kept from your build) -->
  <div id="progress" style="height:3px;background:linear-gradient(90deg,var(--brand),#ff9a6d);width:var(--progress,0%);position:sticky;top:0;z-index:1001"></div>

  <main id="main">
    <!-- HERO -->
    <section class="hero container" id="top">
      <svg class="hero-bg" viewBox="0 0 1200 600" preserveAspectRatio="none" aria-hidden="true">
        <defs>
          <radialGradient id="g1" cx="70%" cy="10%" r="60%">
            <stop offset="0%" stop-color="var(--brand)" stop-opacity="0.25"/>
            <stop offset="60%" stop-color="var(--brand)" stop-opacity="0"/>
          </radialGradient>
        </defs>
        <rect width="1200" height="600" fill="url(#g1)"/>
      </svg>

      <div class="chip-row" role="list" aria-label="High level features">
        <span class="chip">Structured Logging</span><span class="chip">Governance (Build & Runtime)</span>
        <span class="chip">Cloud-Native & Portable</span><span class="chip">Modular</span>
        <span class="chip">Hybrid-Ready</span><span class="chip">ML-Friendly</span>
      </div>

      <h1>Unified Logging, <span class="hl">Governance</span> & <span class="hl">Observability</span></h1>
      <div class="orbit" aria-hidden="true"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
      <p class="sub">Bring order to log chaos. CerbiSuite enforces structure at the source, enables audit-ready compliance, and feeds ML-ready pipelines—without vendor lock-in.</p>

      <!-- Auto-rotating value copy (replaces vertical stack) -->
      <div class="card value-rotator reveal" id="valueRotator" style="margin-top:14px">
        <figure class="slide">
          <h3>Lower Ingestion & Storage Cost</h3>
          <p class="k">Normalize & de-duplicate at the source; ship less noise to Splunk/ELK/Datadog.</p>
          <ul><li>Stable fields → smaller indexes & faster queries</li><li>Rollups/tags → fewer high-cardinality surprises</li></ul>
        </figure>
        <figure class="slide">
          <h3>Compliance Without Friction</h3>
          <p class="k">PII rules at build-time & runtime. Redact & flag—don’t drop critical signals.</p>
          <ul><li>Versioned policies in CerbiShield (RBAC & audit history)</li><li>Relax-mode for safe rollout in prod</li></ul>
        </figure>
        <figure class="slide">
          <h3>Make Every Tool Better</h3>
          <p class="k">We’re not a sink—we improve what your sinks receive with richer, consistent context.</p>
          <ul><li>Durable dashboards (no silent breakage)</li><li>ML-ready metadata for LLMs & models</li></ul>
        </figure>
        <figure class="slide">
          <h3>Faster Investigations</h3>
          <p class="k">Consistent correlation (app/env/tenant/trace) across services speeds triage.</p>
          <ul><li>Clean joins through stable shapes</li><li>Actionable violation metadata</li></ul>
        </figure>
        <div class="dash-slider dots" aria-label="slider controls"></div>
      </div>

      <div class="row" style="display:flex;gap:10px;flex-wrap:wrap;margin-top:14px">
        <a class="btn btn-primary" href="#governance">Explore Governance</a>
        <a class="btn btn-ghost" href="#ecosystem">See Ecosystem</a>
      </div>

      <div class="logo-row" aria-label="Trusted by" style="display:flex;gap:18px;justify-content:center;align-items:center;margin-top:10px">
        <img src="assets/CerbiLogo.png" alt="Cerbi logo" style="height:42px;width:auto;opacity:.98;filter:drop-shadow(0 0 14px rgba(255,77,0,.35))" loading="lazy" decoding="async" />
        <img src="assets/CerbiStream.png" alt="CerbiStream logo" style="height:42px;width:auto;opacity:.85" loading="lazy" decoding="async" />
        <img src="assets/CerbiShield.png" alt="CerbiShield logo" style="height:42px;width:auto;opacity:.72" loading="lazy" decoding="async" />
      </div>
    </section>

    <!-- POP ART (full width) -->
    <section id="hero-art" class="section full-bleed-wrap">
      <div class="full-bleed img-frame">
        <div id="sigRotator" class="sig-rotator" role="img" aria-label="Cerbi signature pop-art panels"></div>
        <div class="img-cap"><code>Cerbi</code>.</div>
      </div>
    </section>

    <!-- USE CASES -->
    <section id="usecases" class="container section">
      <div class="eyebrow k" style="letter-spacing:.12em;margin:0 0 6px">REAL OUTCOMES</div>
      <h2>Use Cases</h2>
      <p class="lead">Short, concrete wins you can expect. Each can start small and expand safely across the org.</p>

      <div class="grid">
        <article class="col-4 card tilt reveal"><h3><span class="n">1.</span> Cut Log Spend</h3><p class="k">Normalize fields, roll up noise, and de-duplicate before indexing.</p><ul><li>Less high-cardinality churn</li><li>Smaller indexes, faster queries</li></ul></article>
        <article class="col-4 card tilt reveal"><h3><span class="n">2.</span> Prove Compliance</h3><p class="k">Versioned PII policy + redaction metadata you can hand to Risk/Legal.</p><ul><li>Build-time rules + runtime enforcement</li><li>RBAC & audit history in CerbiShield</li></ul></article>
        <article class="col-4 card tilt reveal"><h3><span class="n">3.</span> Stabilize Dashboards</h3><p class="k">Stop breaking charts every sprint due to field drift.</p><ul><li>Stable names & types</li><li>Durable alerts across releases</li></ul></article>
        <article class="col-4 card tilt reveal"><h3><span class="n">4.</span> Accelerate Incidents</h3><p class="k">Consistent app/env/tenant/trace IDs → faster triage and MTTR.</p><ul><li>Joinable logs across services</li><li>Violation context included</li></ul></article>
        <article class="col-4 card tilt reveal"><h3><span class="n">5.</span> Ship ML-Ready Telemetry</h3><p class="k">Clean, governed features for LLMs & models—without PII surprises.</p><ul><li>Tags, categories, enums</li><li>Consistent shapes for training</li></ul></article>
        <article class="col-4 card tilt reveal"><h3><span class="n">6.</span> Adopt Gradually</h3><p class="k">Start with one domain (e.g., auth), run in relax-mode, then tighten.</p><ul><li>Keep your loggers/sinks</li><li>No vendor lock-in</li></ul></article>
      </div>

      <div class="card reveal" style="padding:16px;margin-top:16px">
        <h3 style="margin:0 0 6px">Business Use Case — Claims Platform (Regulated)</h3>
        <p class="k">A health insurer modernizes a claims platform across 20+ services. Logs are inconsistent and contain PII. Cerbi introduces a governed profile (<em>HIPAA starter</em> + team rules). Developers see IDE diagnostics for forbidden fields; runtime applies redaction and flags violations instead of dropping events. Splunk dashboards stop breaking, audit requests are answered with versioned policy history, and storage costs drop 28% from reduced high-cardinality fields.</p>
      </div>
    </section>

    <!-- WHY -->
    <section id="why" class="container section">
      <p class="k" style="letter-spacing:.12em;margin:0 0 6px">THE PROBLEM</p>
      <h2>Why <span class="hl">CerbiStream</span> Exists</h2>
      <p class="lead">As organizations scale across internal squads, contractors, and third-party libraries, logging becomes a patchwork—hard to trust, hard to use, and risky. Cerbi turns logs into governed, reliable <em>data products</em>.</p>

      <div class="grid" style="margin-top:16px">
        <article class="col-4 card tilt reveal"><h3 style="margin-top:4px">What goes wrong without guardrails</h3>
          <ul>
            <li><strong>Same idea, many names:</strong> <span class="kbd">userId</span>, <span class="kbd">user_id</span>, <span class="kbd">uid</span>, <span class="kbd">customerId</span>.</li>
            <li><strong>Shape drift:</strong> GUIDs turn into ints; strings turn into blobs.</li>
            <li><strong>PII leakage:</strong> emails/addresses sneak into prod logs.</li>
            <li><strong>Missing metadata:</strong> timestamp, level, env, app, trace IDs aren’t consistent.</li>
            <li><strong>Fragile dashboards:</strong> small field changes break alerts and reports.</li>
            <li><strong>Cost bloat:</strong> noisy, duplicative fields can’t be rolled up or pruned.</li>
          </ul>
        </article>
        <article class="col-4 card tilt reveal"><h3 style="margin-top:4px">Cerbi’s approach: logs as governed data products</h3>
          <ul>
            <li><strong>Contract (schema + rules):</strong> required/forbidden fields, types, enums, PII policy.</li>
            <li><strong>Build-time enforcement:</strong> Roslyn analyzer catches violations before they ship.</li>
            <li><strong>Runtime enforcement:</strong> validation, redaction, and <em>relax-mode</em> flagging in prod.</li>
            <li><strong>Ownership & versioning:</strong> profiles live in CerbiShield with history, RBAC, rollbacks.</li>
            <li><strong>Analytics-ready metadata:</strong> app, env, tenant, correlation, tags, and categories.</li>
          </ul>
        </article>
        <article class="col-4 card tilt reveal"><h3 style="margin-top:4px">What changes for your teams</h3>
          <ul>
            <li><strong>Developers:</strong> clear, fixable IDE/CI diagnostics when logging violates policy.</li>
            <li><strong>Runtime:</strong> keep the event, redact/flag violations; don’t lose critical signals.</li>
            <li><strong>Security/Compliance:</strong> versioned policies, RBAC, audit history in CerbiShield.</li>
            <li><strong>Observability/SRE:</strong> stable fields → durable dashboards and alerts.</li>
            <li><strong>Data/ML:</strong> consistent, PII-safe features suitable for modeling and LLMs.</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- QUICK START -->
    <section id="quickstart" class="container section">
      <div class="eyebrow k">GET STARTED</div>
      <h2>⚡ Quick Start: Try CerbiStream in 60 Seconds</h2>
      <p class="lead">Install from NuGet, configure in <code>Program.cs</code>, and log safely with governance validation.</p>

      <div class="card reveal" style="padding:18px;position:relative">
<pre class="kbd" style="background:#0b1424;color:#e7efff;padding:14px;border-radius:10px;overflow:auto"><code>// 1) Install
dotnet add package CerbiStream
dotnet add package Cerbi.MEL.Governance
dotnet add package CerbiStream.GovernanceAnalyzer

// 2) Configure in Program.cs (MEL)
using CerbiStream;
var logger = LoggerFactory.Create(builder =>
{
  builder.AddCerbiStream(options =>
  {
    options.WithFileFallback();
    options.UseGovernance("cerbi_governance.json");
  });
}).CreateLogger&lt;Program&gt;();

// 3) Log safely with governance validation
logger.LogInformation("User logged in {@user}", new { UserId = "12345" });
</code></pre>
        <button class="btn btn-ghost" id="copyQuickstart" style="position:absolute;top:12px;right:12px">Copy</button>
      </div>

      <p style="margin-top:14px">
        <a class="btn btn-primary" href="https://github.com/Zeroshi/Cerbi-CerbiStream" target="_blank" rel="noopener">View full docs on GitHub →</a>
      </p>
      <div class="row" style="display:flex;flex-wrap:wrap;gap:10px;margin-top:10px">
        <a class="btn btn-ghost doc-link" href="docs/quickstart-dotnet.md">.NET Quick Start (MD)</a>
        <a class="btn btn-ghost doc-link" href="docs/quickstart-mel-governance.md">MEL Governance Only</a>
        <a class="btn btn-ghost doc-link" href="docs/case-study-claims.md">Case Study (Claims)</a>
      </div>
    </section>

    <!-- ECOSYSTEM -->
    <section id="ecosystem" class="container section">
      <div class="eyebrow k">WHAT’S INCLUDED</div>
      <h2>The Cerbi Ecosystem</h2>
      <p class="lead">A cohesive suite where each component addresses a critical aspect of enterprise logging.</p>

      <div class="card" style="padding:8px 12px;overflow-x:auto">
        <table aria-label="Cerbi components matrix" class="table zebra" id="ecoTable">
          <thead>
            <tr>
              <th data-sort="text">Component</th>
              <th data-sort="text">Status</th>
              <th data-sort="text">Purpose</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>CerbiStream</strong></td><td><span class="pill ok">GA</span></td>
              <td>Core .NET logger with structured output and optional encryption. Works with governance analyzers (build-time) and runtime validators.</td>
            </tr>
            <tr>
              <td><strong>CerbiStream.GovernanceAnalyzer</strong></td><td><span class="pill ok">GA</span></td>
              <td>Roslyn analyzer that flags governance issues during build (IDE/CI). Reads project governance profiles.</td>
            </tr>
            <tr>
              <td><strong>Cerbi.MEL.Governance</strong></td><td><span class="pill ok">GA</span></td>
              <td>Runtime governance validator for Microsoft.Extensions.Logging pipelines; applies redaction/flagging based on profiles.</td>
            </tr>
            <tr>
              <td><strong>CerbiShield</strong></td><td><span class="pill beta">Beta (SaaS soon)</span></td>
              <td>Governance dashboard & APIs. Profile authoring, RBAC, audit history, environment-aware deployments, and profile versioning.</td>
            </tr>
            <tr>
              <td><strong>CerbIQ</strong></td><td><span class="pill planned">Phase 2 Planned</span></td>
              <td>Routing, normalization, rollups, fan-out, and app grouping. Turns disparate streams into consistent, analytics-ready datasets.</td>
            </tr>
            <tr>
              <td><strong>CerbiSense</strong></td><td><span class="pill planned">Phase 2 Planned</span></td>
              <td>ML-driven anomaly detection and trend forecasting on governed logs. Risk scoring and proactive alerting with explainability.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- GOVERNANCE -->
    <section id="governance" class="container section">
      <div class="eyebrow k">POLICY, THEN TELEMETRY</div>
      <h2>Governance That Meets Teams Where They Are</h2>
      <p class="lead">Keep Serilog/NLog/MEL—add Cerbi governance today. Or go all-in with CerbiStream. Either way, the <strong>same governance profiles</strong> power build-time diagnostics and runtime enforcement.</p>
      <div class="grid">
        <div class="col-4 card tilt reveal"><h3>Build-Time Enforcement</h3><p class="muted">Roslyn analyzer flags violations in IDE/CI with precise messages—before code ships.</p></div>
        <div class="col-4 card tilt reveal"><h3>Runtime Enforcement</h3><p class="muted">Validators ensure emitted logs comply with your profiles. Redaction & relax-mode keep visibility while preventing leaks.</p></div>
        <div class="col-4 card tilt reveal"><h3>Compliance Starter Kits</h3><p class="muted">HIPAA/GDPR-aligned defaults you can tailor; versioned profiles; audit histories; rule plugins.</p></div>
      </div>

      <!-- Live governance demo (readable now) -->
      <div class="card reveal" style="padding:16px;margin-top:18px">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px">
          <h3 style="margin:0;color:var(--ink)">Live Rule Check (demo)</h3>
          <div style="display:flex;align-items:center;gap:8px">
            <span class="kbd">PII Field</span>
            <button id="piiSwitch" type="button" class="switch" aria-pressed="false" aria-label="Toggle PII field"></button>
          </div>
        </div>
        <div class="demo" style="display:grid; gap:10px; grid-template-columns:1fr 1fr">
          <div class="pane"><strong>Input Log</strong><pre class="kbd" style="background:#0b1424;color:#dbe9ff;padding:10px;border-radius:8px"><code id="inputJson" aria-live="polite"></code></pre></div>
          <div class="pane"><strong>Evaluation</strong><pre class="kbd" style="background:#0b1424;color:#dbe9ff;padding:10px;border-radius:8px"><code id="evalJson" aria-live="polite"></code></pre></div>
        </div>
        <p class="k" style="margin-top:10px">This demo mirrors Cerbi’s behavior: <em>keep the event</em>, redact sensitive values, and tag violations with metadata for downstream scoring and audit.</p>
      </div>
    </section>

    <!-- DASHBOARDS -->
    <section id="dashboards" class="section container">
      <div class="img-frame reveal showcase">
        <div id="dashSlider" class="showcase-inner" aria-roledescription="carousel" tabindex="0">
          <div class="sr-only" aria-live="polite"></div>

          <div class="showcase-viewport">
            <figure class="slide active">
              <img width="1600" height="900" src="assets/screenshots/cerbishield-hero-1600x900.jpg"
                   srcset="assets/screenshots/cerbishield-hero-1600x900.jpg 1x, assets/screenshots/cerbishield-hero-3200x1800.jpg 2x"
                   sizes="100vw" alt="CerbiShield — Overview"
                   data-full="assets/screenshots/cerbishield-hero-3200x1800.jpg"
                   loading="eager" decoding="async">
            </figure>
            <figure class="slide">
              <img width="1200" height="900" src="assets/screenshots/cerbishield-profiles-1200x900.jpg"
                   srcset="assets/screenshots/cerbishield-profiles-1200x900.jpg 1x, assets/screenshots/cerbishield-profiles-2400x1800.jpg 2x"
                   sizes="100vw" alt="CerbiShield — Profiles"
                   data-full="assets/screenshots/cerbishield-profiles-2400x1800.jpg"
                   loading="lazy" decoding="async">
            </figure>
            <figure class="slide">
              <img width="1200" height="900" src="assets/screenshots/cerbishield-violations-1200x900.jpg"
                   srcset="assets/screenshots/cerbishield-violations-1200x900.jpg 1x, assets/screenshots/cerbishield-violations-2400x1800.jpg 2x"
                   sizes="100vw" alt="CerbiShield — Violations"
                   data-full="assets/screenshots/cerbishield-violations-2400x1800.jpg"
                   loading="lazy" decoding="async">
            </figure>
            <figure class="slide">
              <img width="1600" height="900" src="assets/screenshots/cerbishield-Deploy-1600x900.jpg"
                   sizes="100vw" alt="CerbiShield — Deploy"
                   data-full="assets/screenshots/cerbishield-Deploy-1600x900.jpg"
                   loading="lazy" decoding="async">
            </figure>
          </div>

          <div class="dash-arrows">
            <button class="btn btn-ghost" type="button" data-prev>← Prev</button>
            <button class="btn btn-ghost" type="button" data-next>Next →</button>
          </div>
        </div>

        <div class="img-cap">Click any screenshot to open full-size preview. Use ←/→ or swipe to navigate.</div>
      </div>
    </section>

    <!-- ARCHITECTURE (scaled & framed) -->
    <section id="architecture" class="container section">
      <div class="eyebrow k">HOW IT FITS</div>
      <h2>Reference Architecture</h2>
      <p class="lead">Cerbi governs telemetry at the source and plays nicely with your existing loggers, sinks, and BI tools.</p>

      <div class="grid" style="align-items:start;gap:18px">
        <article class="col-6 card reveal">
          <h3>Flow</h3>
          <ul>
            <li>Apps & services emit events</li>
            <li>Build-time analyzers catch schema/PII violations pre-merge</li>
            <li>Runtime validators redact/flag (relax-mode to roll out safely)</li>
            <li>CerbiShield hosts versioned profiles, RBAC, audit history</li>
            <li>Downstream sinks receive clean, consistent data</li>
          </ul>
          <h4 style="margin-top:10px;color:var(--ink)">Implementation notes</h4>
          <ul>
            <li><strong>Profiles:</strong> JSON stored and versioned.</li>
            <li><strong>Build:</strong> <code>CerbiStream.GovernanceAnalyzer</code> adds IDE/CI diagnostics.</li>
            <li><strong>Runtime:</strong> <code>Cerbi.MEL.Governance</code> enforces redaction/flagging, honors <em>Relax()</em>.</li>
            <li><strong>Encryption:</strong> AES/Base64/NoOp via <code>IEncryption</code>; file-fallback with rotation.</li>
          </ul>
        </article>

        <figure class="col-6 img-frame reveal" style="padding:8px;background:#fff">
          <img
            src="assets/architecture/cerbisuite-architecture-1600x900.png"
            srcset="assets/architecture/cerbisuite-architecture-1600x900.png 1x, assets/architecture/cerbisuite-architecture-1600x900.png 1.5x, assets/architecture/cerbisuite-architecture-1600x900.png 2x"
            sizes="(max-width: 900px) 100vw, 800px"
            alt="Cerbi reference architecture diagram"
            style="width:100%;height:auto;display:block;max-width:900px;margin-inline:auto;border-radius:8px"
            loading="lazy"
            decoding="async">
          <figcaption class="img-cap">Source-governed telemetry → durable dashboards, cheaper ingestion, audit-ready evidence.</figcaption>
        </figure>
      </div>
    </section>

    <!-- INTEROPERABILITY -->
    <section id="interop" class="container section">
      <div class="eyebrow k">PLAYS WELL WITH OTHERS</div>
      <h2>Interoperability for Devs & Execs</h2>
      <div class="grid" style="gap:18px">
        <article class="col-6 card reveal">
          <h3>Keep your logger</h3>
          <ul>
            <li><strong>MEL (.NET):</strong> <code>builder.AddCerbiStream()</code> adds structured output + governance.</li>
            <li><strong>Serilog / NLog:</strong> use analyzers at build-time and validators at runtime.</li>
            <li><strong>Hybrid:</strong> keep sinks/formatters; Cerbi stabilizes field names/types and attaches correlation.</li>
          </ul>
        </article>
        <article class="col-6 card reveal">
          <h3>Keep your sinks</h3>
          <ul>
            <li><strong>Splunk / ELK / OpenSearch / Datadog / CloudWatch:</strong> send less, cleaner data.</li>
            <li><strong>Durable dashboards:</strong> governed field names/types avoid chart breakage.</li>
            <li><strong>ML-ready:</strong> consistent, PII-safe features feed analytics/LLMs.</li>
          </ul>
        </article>
      </div>
      <p class="k" style="margin-top:10px">Bottom line: familiar tools; cost control, auditability, faster incident response.</p>
    </section>

    <!-- PACKAGES (NuGet links restored) -->
    <section id="packages" class="container section">
      <div class="eyebrow k">INSTALL</div>
      <h2>NuGet Packages</h2>
      <div class="grid" style="gap:16px">
        <article class="col-4 card reveal">
          <h3>CerbiStream</h3>
          <p class="k">Core structured logger for .NET.</p>
          <a class="btn btn-primary" href="https://www.nuget.org/packages/CerbiStream" target="_blank" rel="noopener">NuGet →</a>
        </article>
        <article class="col-4 card reveal">
          <h3>Cerbi.MEL.Governance</h3>
          <p class="k">Runtime governance for Microsoft.Extensions.Logging.</p>
          <a class="btn btn-primary" href="https://www.nuget.org/packages/Cerbi.MEL.Governance" target="_blank" rel="noopener">NuGet →</a>
        </article>
        <article class="col-4 card reveal">
          <h3>CerbiStream.GovernanceAnalyzer</h3>
          <p class="k">Roslyn analyzer diagnostics for schema/PII.</p>
          <a class="btn btn-primary" href="https://www.nuget.org/packages/CerbiStream.GovernanceAnalyzer" target="_blank" rel="noopener">NuGet →</a>
        </article>

        <article class="col-4 card reveal">
          <h3>Cerbi.Governance.Runtime</h3>
          <p class="k">Common runtime services.</p>
          <a class="btn btn-primary" href="https://www.nuget.org/packages/Cerbi.Governance.Runtime" target="_blank" rel="noopener">NuGet →</a>
        </article>
        <article class="col-4 card reveal">
          <h3>Cerbi.Governance.Core</h3>
          <p class="k">Core governance model & policy types.</p>
          <a class="btn btn-primary" href="https://www.nuget.org/packages/Cerbi.Governance.Core" target="_blank" rel="noopener">NuGet →</a>
        </article>
        <article class="col-4 card reveal">
          <h3>Cerbi.Serilog.GovernanceAnalyzer</h3>
          <p class="k">Analyzer support for Serilog projects.</p>
          <a class="btn btn-primary" href="https://www.nuget.org/packages/Cerbi.Serilog.GovernanceAnalyzer" target="_blank" rel="noopener">NuGet →</a>
        </article>
      </div>
    </section>

    <!-- REPOSITORIES (links restored) -->
    <section id="repos" class="container section">
      <div class="eyebrow k">OPEN SOURCE</div>
      <h2>GitHub Repositories</h2>
      <div class="grid" style="gap:16px">
        <article class="col-6 card reveal">
          <h3>CerbiStream</h3>
          <p class="k">Reference implementation of the structured logger.</p>
          <a class="btn btn-ghost" target="_blank" rel="noopener" href="https://github.com/Zeroshi/Cerbi-CerbiStream">GitHub →</a>
        </article>
        <article class="col-6 card reveal">
          <h3>CerbiStream.BenchmarkTests</h3>
          <p class="k">Benchmarks for throughput/allocations.</p>
          <a class="btn btn-ghost" target="_blank" rel="noopener" href="https://github.com/Zeroshi/CerbiStream.BenchmarkTests">GitHub →</a>
        </article>
        <article class="col-6 card reveal">
          <h3>Cerbi.MEL.Governance</h3>
          <p class="k">Runtime validator package.</p>
          <a class="btn btn-ghost" target="_blank" rel="noopener" href="https://github.com/Zeroshi/Cerbi.MEL.Governance">GitHub →</a>
        </article>
        <article class="col-6 card reveal">
          <h3>Cerbi.MEL.Governance.Demo</h3>
          <p class="k">Demo app for validation and relax-mode.</p>
          <a class="btn btn-ghost" target="_blank" rel="noopener" href="https://github.com/Zeroshi/Cerbi.MEL.Governance.Demo">GitHub →</a>
        </article>
        <article class="col-6 card reveal">
          <h3>Cerbi.Serilog.GovernanceAnalyzer</h3>
          <p class="k">Analyzer for Serilog projects.</p>
          <a class="btn btn-ghost" target="_blank" rel="noopener" href="https://github.com/Zeroshi/Cerbi.Serilog.GovernanceAnalyzer">GitHub →</a>
        </article>
        <article class="col-6 card reveal">
          <h3>Cerbi.Serilog.GovernanceAnalysizer.TestApp</h3>
          <p class="k">Test harness for analyzer rules.</p>
          <a class="btn btn-ghost" target="_blank" rel="noopener" href="https://github.com/Zeroshi/Cerbi.Serilog.GovernanceAnalysizer.TestApp">GitHub →</a>
        </article>
      </div>
    </section>

    <!-- COMPARE -->
    <section id="compare" class="container section">
      <div class="eyebrow k">DECISION SUPPORT</div>
      <h2>Compare Approaches</h2>
      <div class="card" style="padding:12px">
        <table class="table zebra">
          <thead><tr><th>Approach</th><th>Pros</th><th>Cons</th><th>Best when…</th></tr></thead>
          <tbody>
            <tr><td><strong>“Just log more”</strong></td><td>Fast to start</td><td>Inconsistent fields, PII risk, higher cost</td><td>Tiny apps, prototypes</td></tr>
            <tr><td><strong>Downstream normalization</strong></td><td>No app changes</td><td>Late fixes, fragile</td><td>Short-term stopgap</td></tr>
            <tr><td><strong>Cerbi governance</strong></td><td>Stable schema, redaction, versioned policy</td><td>Define profiles; add analyzers/validators</td><td>Multi-team apps, compliance</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- ROADMAP -->
    <section id="roadmap" class="container section">
      <div class="eyebrow k">WHAT’S SHIPPING</div>
      <h2>Current Phase & What’s Next</h2>
      <div class="grid" style="gap:18px">
        <article class="col-6 card reveal">
          <h3>Phase 1 (Current)</h3>
          <ul>
            <li>CerbiStream GA (.NET structured logger)</li>
            <li>Governance analyzers (Roslyn)</li>
            <li>Runtime validators (redaction, relax-mode)</li>
            <li>CerbiShield Beta — profiles, RBAC, audit history</li>
          </ul>
        </article>
        <article class="col-6 card reveal">
          <h3>Phase 2 (Planned)</h3>
          <ul>
            <li>CerbIQ — routing, normalization, rollups, fan-out</li>
            <li>CerbiSense — ML anomaly detection & trend forecasting</li>
            <li>Marketplace integrations (Azure/AWS/GCP)</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="container section">
      <div class="eyebrow k">LET’S TALK</div>
      <h2>Get in Touch</h2>
      <p class="lead">Questions, enterprise inquiries, or marketplace partnership? Reach out and we’ll respond quickly.</p>

      <div class="grid" style="align-items:start;gap:18px">
        <div class="col-12 card" style="padding:16px">
          <iframe
            title="Contact Cerbi"
            id="contact-iframe"
            src="https://form.jotform.com/252385904589067"
            style="width:100%;max-width:900px;min-height:900px;height:980px;border:0;border-radius:12px;background:rgba(255,255,255,.02);display:block;margin:0 auto"
          ></iframe>
          <p class="k" style="margin-top:10px">Prefer email? <a href="mailto:hello@cerbi.io">hello@cerbi.io</a></p>
          <p class="k" style="margin-top:6px;font-size:12px;opacity:.85">
            By submitting, you agree to our
            <a class="doc-link" href="docs/terms.md">Terms</a> and acknowledge our
            <a class="doc-link" href="docs/privacy.md">Privacy Policy</a>.
          </p>
        </div>
      </div>
    </section>
  </main>

  <!-- FAB -->
  <a href="#contact" class="contact-fab" aria-label="Contact">
    <img src="assets/contact-fab.png" alt="" decoding="async" />
  </a>

  <!-- Footer -->
  <footer class="footer">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center;gap:16px;flex-wrap:wrap">
      <div style="display:flex;align-items:center;gap:10px">
        <img src="assets/CerbiLogo.png" alt="Cerbi logo" style="height:28px;width:auto;border-radius:6px;filter:drop-shadow(0 0 8px rgba(255,77,0,.35))" loading="lazy" decoding="async" />
        <span class="k">© <span id="year"></span> Cerbi, LLC — Built for the enterprise</span>
      </div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;align-items:center">
        <a class="chip" href="#why">Why</a><a class="chip" href="#usecases">Use Cases</a><a class="chip" href="#quickstart">Quick Start</a>
        <a class="chip" href="#ecosystem">Ecosystem</a><a class="chip" href="#governance">Governance</a><a class="chip" href="#dashboards">Dashboards</a>
        <a class="chip" href="#packages">NuGet</a><a class="chip" href="#compare">Compare</a><a class="chip" href="#architecture">Architecture</a><a class="chip" href="#interop">Interoperability</a><a class="chip" href="#roadmap">Roadmap</a><a class="chip" href="#contact">Contact</a>
        <a class="chip doc-link" href="docs/privacy.md">Privacy</a>
        <a class="chip doc-link" href="docs/terms.md">Terms</a>
        <a class="chip doc-link" href="docs/security.md">Security</a>
        <a class="chip doc-link" href="docs/company.md">Company</a>
        <a class="chip doc-link" href="docs/case-study-claims.md">Case Study</a>
        <img class="partner-mini" src="assets/partners/microsoft-partner.svg" alt="Microsoft Partner" style="height:22px;width:auto;opacity:.9" loading="lazy" decoding="async" />
      </div>
    </div>
  </footer>

  <!-- Image Lightbox -->
  <div id="lightbox" class="lightbox" aria-hidden="true" hidden>
    <button class="close btn btn-ghost" aria-label="Close preview">✕</button>
    <img id="lightboxImg" alt="" style="max-width:95vw;max-height:85vh;border-radius:10px"/>
  </div>

  <!-- Command palette placeholder (kept off) -->
  <div class="cmdk-overlay" id="cmdkOverlay" aria-hidden="true"></div>

  <!-- Scripts -->
  <script>
    // Year
    (function(){ const y=document.getElementById('year'); if(y) y.textContent=new Date().getFullYear(); })();

    // Progress bar
    (function(){
      const bar=document.getElementById('progress'); if(!bar) return;
      const on=()=>{const h=document.documentElement; const max=h.scrollHeight-h.clientHeight; const pct=max?(100*((h.scrollTop||document.body.scrollTop)/max)):0; bar.style.setProperty('--progress',pct+'%');};
      on(); addEventListener('scroll',on,{passive:true}); addEventListener('resize',on,{passive:true});
    })();

    // In-view reveals
    (function(){
      const io=new IntersectionObserver((ents)=>ents.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('is-in'); io.unobserve(e.target);} }),{threshold:.12});
      document.querySelectorAll('.reveal').forEach(el=>io.observe(el));
    })();

    // Copy quickstart
    (function(){
      const btn=document.getElementById('copyQuickstart'); if(!btn) return;
      const pre=btn.previousElementSibling?.querySelector('code'); if(!pre) return;
      btn.addEventListener('click', async()=>{ try{ await navigator.clipboard.writeText(pre.textContent||''); btn.textContent='Copied ✓'; setTimeout(()=>btn.textContent='Copy',1400);}catch{} });
    })();

    // Menu overflow -> "More ▾"
    (function(){
      const nav=document.getElementById('primaryNav');
      const wrap=document.getElementById('moreWrap');
      const menu=document.getElementById('moreMenu');
      const btn=document.getElementById('moreBtn');
      if(!nav||!wrap||!menu||!btn) return;

      function layout(){
        // reset
        [...menu.children].forEach(a=>nav.appendChild(a));
        wrap.setAttribute('aria-expanded','false'); btn.setAttribute('aria-expanded','false');
        menu.innerHTML='';

        const navBox=nav.getBoundingClientRect();
        const links=[...nav.children];
        let over=false;
        for(let i=links.length-1;i>=0;i--){
          const link=links[i];
          if(nav.scrollWidth > nav.clientWidth){
            over=true;
            menu.insertBefore(link, menu.firstChild);
          }
        }
        wrap.style.display = over ? 'block':'none';
      }
      layout();
      let t=null;
      const deb=()=>{ clearTimeout(t); t=setTimeout(layout,60); };
      addEventListener('resize',deb,{passive:true});
      new ResizeObserver(deb).observe(nav);

      btn.addEventListener('click', ()=>{
        const open = wrap.getAttribute('aria-expanded')==='true';
        wrap.setAttribute('aria-expanded', String(!open));
        btn.setAttribute('aria-expanded', String(!open));
      });
      addEventListener('click', (e)=>{ if(!wrap.contains(e.target)) { wrap.setAttribute('aria-expanded','false'); btn.setAttribute('aria-expanded','false'); }});
    })();

    // HERO Value rotator (auto, dots)
    (function(){
      const box=document.getElementById('valueRotator'); if(!box) return;
      const slides=[...box.querySelectorAll('.slide')]; if(slides.length<2) return;
      const dotsBox=box.querySelector('.dots');
      dotsBox.innerHTML = slides.map((_,i)=>`<button aria-label="Go to slide ${i+1}"></button>`).join('');
      const dots=[...dotsBox.querySelectorAll('button')];

      let i=0; slides[i].style.display='block'; slides.forEach((s,idx)=>{ s.style.display = idx===0 ? 'block' : 'none'; });
      const show=(n)=>{ i=(n+slides.length)%slides.length; slides.forEach((s,idx)=> s.style.display = idx===i ? 'block' : 'none'); dots.forEach((d,idx)=> d.classList.toggle('active', idx===i)); };
      dots.forEach((d,idx)=>d.addEventListener('click',()=>show(idx)));

      let timer=null;
      const start = ()=>{ stop(); timer=setInterval(()=>show(i+1), 3800); };
      const stop  = ()=>{ if(timer) clearInterval(timer); timer=null; };
      box.addEventListener('mouseenter', stop); box.addEventListener('mouseleave', start);
      start(); show(0);
    })();

    // POP-ART rotator (full width)
    (function(){
      const el = document.getElementById('sigRotator'); if(!el || el.__init) return; el.__init = true;
      const sources = [
        'assets/popart/popart-01.png','assets/popart/popart-02.png','assets/popart/popart-03.png',
        'assets/popart/popart-04.png','assets/popart/popart-05.png','assets/popart/popart-06.png',
        'assets/popart/popart-07.png','assets/popart/popart-08.png','assets/popart/popart-09.png',
        'assets/popart/popart-10.png'
      ];
      el.innerHTML='';
      const imgs = sources.map((src, idx) => {
        const im = new Image();
        im.decoding = 'async';
        im.loading = idx === 0 ? 'eager' : 'lazy';
        im.src = src;
        im.alt = 'Cerbi pop-art ' + (idx+1);
        if (idx === 0) im.className = 'is-active';
        el.appendChild(im);
        return im;
      });
      let i = 0;
      const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (!prefersReduced && imgs.length > 1) {
        setInterval(() => {
          imgs[i].classList.remove('is-active');
          i = (i + 1) % imgs.length;
          imgs[i].classList.add('is-active');
        }, 3200);
      }
    })();

    // DASH slider + lightbox
    (function(){
      const slider=document.getElementById('dashSlider'); if(!slider) return;
      const slides=[...slider.querySelectorAll('.slide')];
      const dotsBox=document.createElement('div'); dotsBox.className='dots'; dotsBox.style.marginTop='8px';
      slider.appendChild(dotsBox);
      dotsBox.innerHTML = slides.map((_,n)=>`<button aria-label="Go to slide ${n+1}"></button>`).join('');
      const dots=[...dotsBox.querySelectorAll('button')];

      const view=slider.querySelector('.showcase-viewport');
      const prevBtn=slider.querySelector('[data-prev]');
      const nextBtn=slider.querySelector('[data-next]');
      const sr=slider.querySelector('[aria-live]');
      let i=slides.findIndex(s=>s.classList.contains('active')); if(i<0)i=0;

      function show(n,announce=true){
        i=(n+slides.length)%slides.length;
        slides.forEach((s,idx)=>s.classList.toggle('active', idx===i));
        dots.forEach((d,idx)=>d.classList.toggle('active', idx===i));
        if(announce && sr) sr.textContent=`Slide ${i+1} of ${slides.length}`;
      }
      dots.forEach((d,idx)=>d.addEventListener('click',()=>show(idx)));
      prevBtn?.addEventListener('click', ()=>show(i-1));
      nextBtn?.addEventListener('click', ()=>show(i+1));
      show(i,false);

      const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
      let timer=null;
      const start=()=>{ if(prefersReduced) return; stop(); timer=setInterval(()=>show(i+1,false),4500); };
      const stop =()=>{ if(timer) clearInterval(timer); timer=null; };
      slider.addEventListener('mouseenter', stop);
      slider.addEventListener('mouseleave', start);
      slider.addEventListener('focusin', stop);
      slider.addEventListener('focusout', start);
      slider.addEventListener('keydown', (e)=>{ if(e.key==='ArrowLeft'){e.preventDefault();show(i-1);} if(e.key==='ArrowRight'){e.preventDefault();show(i+1);} });
      let x0=null;
      slider.addEventListener('touchstart', e=>{x0=e.touches[0].clientX;},{passive:true});
      slider.addEventListener('touchend', e=>{
        if(x0==null) return;
        const dx=e.changedTouches[0].clientX - x0;
        if(Math.abs(dx)>40){ dx>0?show(i-1):show(i+1); }
        x0=null;
      },{passive:true});

      const overlay=document.getElementById('lightbox');
      const big=document.getElementById('lightboxImg');
      let prevOverflow='';
      const open=(src)=>{ if(!overlay||!big) return; big.src=src; overlay.hidden=false; overlay.setAttribute('aria-hidden','false'); prevOverflow=document.body.style.overflow||''; document.body.style.overflow='hidden'; };
      const close=()=>{ if(!overlay||!big) return; overlay.setAttribute('aria-hidden','true'); overlay.hidden=true; big.removeAttribute('src'); document.body.style.overflow=prevOverflow; };
      overlay?.querySelector('.close')?.addEventListener('click', close);
      overlay?.addEventListener('click', (e)=>{ if(e.target===overlay) close(); });

      slider.querySelectorAll('img').forEach(img=>{
        img.addEventListener('click', ()=> open(img.dataset.full || img.currentSrc || img.src));
      });
      start();
    })();

    // Governance demo simple toggle (Readable text)
    ;(function(){
      const sw=document.getElementById('piiSwitch');
      const input=document.getElementById('inputJson');
      const evalOut=document.getElementById('evalJson');
      if(!sw||!input||!evalOut) return;

      function render(){
        const hasPII = sw.getAttribute('aria-pressed')==='true';
        const obj = { userId:"12345", email: hasPII ? "jane@company.com" : "[REDACTED]", msg:"Login", app:"claims-api", env:"prod" };
        input.textContent = JSON.stringify({ ...obj, rawEmail: hasPII? obj.email : undefined }, null, 2)
          .replace(/"rawEmail":\s".+?"/,'');
        const evalObj = { passed: !hasPII, redacted: hasPII ? ["email"] : [], violations: hasPII ? [{ field:"email", rule:"PII.Forbidden" }] : [] };
        evalOut.textContent = JSON.stringify(evalObj, null, 2);
      }
      sw.addEventListener('click', ()=>{
        sw.setAttribute('aria-pressed', sw.getAttribute('aria-pressed')!=='true');
        render();
      });
      render();
    })();

    // GLYPH CLOCK — faster glitch, linger on time longer; LDR-style misspellings; NO skull/robot emoji
    (function(){
      const wrap=document.getElementById('bg-clock');
      const el=document.getElementById('clockGlyph'); if(!wrap||!el) return;

      function size(){
        const vw = Math.max(document.documentElement.clientWidth, window.innerWidth||0);
        const factor = vw < 820 ? 0.55 : 0.42; // larger & bolder
        wrap.style.fontSize = Math.min(Math.max(vw*factor,140),1000)+'px';
      }
      size(); addEventListener('resize', size, {passive:true});

      const triads = ["CERBI","CERB1","C3RBI","CER8I","CE_RBI","C ERBI","CERBl","CERßI","CERBl","CERBI"];
      const noise  = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
      let mode = 'time'; // 'glitch' or 'time'
      let tHold = 0;

      function timeNow(){
        const d=new Date();
        const hh=String(d.getHours()).padStart(2,'0');
        const mm=String(d.getMinutes()).padStart(2,'0');
        return `${hh}:${mm}`;
      }

      function rand(n){ return Math.floor(Math.random()*n); }
      function scramble(base){
        const out = base.split('').map(ch => (Math.random() < .35 ? noise[rand(noise.length)] : ch)).join('');
        return out;
      }

      function tick(){
        if(mode==='time'){
          // linger the time ~1200ms
          el.dataset.txt = el.textContent = timeNow();
          tHold += 200;
          if(tHold >= 1200){
            tHold = 0; mode='glitch';
          }
        }else{
          // quick glitch bursts for ~900ms
          const base = triads[rand(triads.length)];
          el.dataset.txt = el.textContent = scramble(base);
          tHold += 100;
          if(tHold >= 900){
            tHold = 0; mode='time';
          }
        }
      }
      setInterval(tick, 100);
    })();

    // Lightbox close with ESC
    (function(){ document.addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ const lb=document.getElementById('lightbox'); if(lb && lb.getAttribute('aria-hidden')==='false'){ lb.querySelector('.close')?.click(); } } }); })();
  </script>
</body>
</html>
