<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CerbiSuite ‚Äî Unified Logging, Governance & Observability</title>
  <meta name="description" content="CerbiSuite brings structure, governance, and observability to enterprise logging with build-time and runtime enforcement, a governance dashboard, and ML-ready metadata." />
  <meta property="og:title" content="CerbiSuite ‚Äî Unified Logging, Governance & Observability" />
  <meta property="og:description" content="Structured logging, developer-first observability, and governance‚Äîwithout lock-in." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/assets/og-image.png" />
  <link rel="icon" href="/assets/favicon.png" />

  <!-- Theme color per scheme -->
  <meta name="theme-color" content="#ff4d00" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ff5a1a" media="(prefers-color-scheme: light)">

  <!-- Cerbi theme stylesheet -->
  <link rel="stylesheet" href="/styles/cerbi-theme.css">
</head>
<body>
  <div id="top"></div>
  <div id="progress"></div>
  <div class="tiles" aria-hidden="true"></div>
  <div class="spotlight" aria-hidden="true"></div>

  <div class="ribbon" role="status">
    <div class="container">üöÄ Beta: CerbiShield governance dashboard ‚Äî enterprise trials opening soon. <span class="kbd" aria-hidden="true">‚åòK</span> or <span class="kbd">Ctrl+K</span> for command palette.</div>
  </div>

  <header class="nav">
    <div class="container nav-inner">
      <div class="brand">
        <img src="/assets/CerbiStream.png" alt="Cerbi logo" style="height:36px;width:auto;border-radius:8px"/>
        <span>CerbiSuite</span>
      </div>
      <button id="navToggle" class="theme-toggle mobile-only" aria-expanded="false" aria-controls="primaryNav" aria-label="Open menu">‚ò∞</button>
      <nav id="primaryNav" class="nav-links" aria-label="Primary">
        <a href="#why">Why CerbiStream</a>
        <a href="#ecosystem">Ecosystem</a>
        <a href="#governance">Governance</a>
        <a href="#packages">Packages</a>
        <a href="#compare">Compare</a>
        <a href="#architecture">Architecture</a>
      </nav>
      <div class="row" style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
        <button id="themeBtn" class="theme-toggle" aria-label="Toggle theme">üåó Theme</button>
        <button id="cmdBtn" class="theme-toggle" aria-label="Open command palette" title="‚åòK / Ctrl+K">‚åòK</button>
        <a class="btn btn-ghost" href="#contact">Contact</a>
        <a class="btn btn-primary" href="https://github.com/Zeroshi/Cerbi-CerbiStream" target="_blank" rel="noopener">GitHub</a>
      </div>
    </div>
  </header>

  <main>
    <section class="hero container">
      <!-- Decorative hero background (inline SVG so no external assets) -->
      <svg class="hero-bg" viewBox="0 0 1200 600" preserveAspectRatio="none" aria-hidden="true">
        <defs>
          <radialGradient id="g1" cx="70%" cy="10%" r="60%">
            <stop offset="0%" stop-color="var(--accent)" stop-opacity="0.35"/>
            <stop offset="60%" stop-color="var(--accent)" stop-opacity="0"/>
          </radialGradient>
          <pattern id="miniTiles" width="24" height="24" patternUnits="userSpaceOnUse">
            <rect width="24" height="24" fill="none"/>
            <rect x="0" y="0" width="24" height="24" fill="none" stroke="#1a2433" stroke-width="1" opacity="0.35"/>
            <circle cx="1" cy="1" r="1" fill="#ffd2bf" opacity="0.16" />
          </pattern>
          <linearGradient id="grid" x1="0" x2="1">
            <stop offset="0%" stop-color="#24191c"/>
            <stop offset="100%" stop-color="#120d0f"/>
          </linearGradient>
          <linearGradient id="shieldGrad" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="var(--accent)"/>
            <stop offset="100%" stop-color="var(--accent-2)"/>
          </linearGradient>
        </defs>
        <rect width="1200" height="600" fill="url(#g1)"/>
        <rect width="1200" height="600" fill="url(#miniTiles)" opacity="0.35"/>
        <g opacity="0.45">
          <rect x="0" y="0" width="1200" height="600" fill="none" stroke="url(#grid)" stroke-width="1"/>
        </g>
        <g stroke="#332024" opacity=".55">
          <path d="M80,520 C460,420 740,560 1120,460" fill="none"/>
          <path d="M80,480 C420,380 780,520 1120,420" fill="none"/>
        </g>
      </svg>

      <div class="chip-row" role="list" aria-label="High level features">
        <span class="chip">üîê Structured Logging</span>
        <span class="chip">üß† Developer-First Observability</span>
        <span class="chip">üåê Cloud-Native & Portable</span>
        <span class="chip">Modular</span>
        <span class="chip">Hybrid-Ready</span>
        <span class="chip">ML-Friendly</span>
        <span class="chip">Dev-First</span>
      </div>
      <h1>Unified Logging, Governance & Observability</h1>
      <p class="sub">Bring order to log chaos. CerbiSuite enforces structure at the source, enables audit-ready compliance, and feeds ML-ready pipelines‚Äîwithout vendor lock-in.</p>
      <div class="row" style="display:flex;gap:10px;justify-content:center;margin-top:14px">
        <a class="btn btn-primary" href="#governance">Explore Governance</a>
        <a class="btn btn-contrast" href="#ecosystem">See Ecosystem</a>
      </div>

      <div class="logo-row" aria-label="Trusted by" style="display:flex;gap:18px;justify-content:center;align-items:center;padding-top:10px">
        <img src="/assets/CerbiStream.png" alt="Cerbi logo" style="height:42px;width:auto;opacity:.95"/>
        <img src="/assets/CerbiStream.png" alt="CerbiStream logo" style="height:42px;width:auto;opacity:.8"/>
        <img src="/assets/CerbiStream.png" alt="CerbiShield logo" style="height:42px;width:auto;opacity:.65"/>
      </div>
    </section>

    <section id="quickstart" class="container section">
      <h2>‚ö° Quick Start: Try CerbiStream in 60 Seconds</h2>
      <p class="lead">Install from NuGet, configure in <code>Program.cs</code>, and log safely with governance validation.</p>

      <div class="glass tilt reveal" style="padding:18px;position:relative">
        <div class="glare"></div>
        <pre style="margin:0;max-height:420px;overflow:auto"><code class="language-csharp">
// 1. Install from NuGet
// dotnet add package CerbiStream

// 2. Configure in Program.cs
using CerbiStream;

var logger = LoggerFactory.Create(builder =>
{
    builder.AddCerbiStream(options =>
    {
        options.WithFileFallback();                     // resilient logging
        options.UseGovernance("cerbi_governance.json"); // governance profile
    });
}).CreateLogger&lt;Program&gt;();

// 3. Log safely with governance validation
logger.LogInformation("User logged in {@user}", new { UserId = "12345" });
        </code></pre>
        <button class="btn" data-copy="#quickstart code" style="position:absolute;top:12px;right:12px">Copy</button>
      </div>

      <p style="margin-top:14px">
        <a class="btn btn-primary" href="https://github.com/Zeroshi/Cerbi-CerbiStream" target="_blank" rel="noopener">
          View full docs on GitHub ‚Üí
        </a>
      </p>
    </section>

    <section id="hero-art" class="container section">
      <div class="glass tilt reveal" style="padding:18px">
        <div class="glare" aria-hidden="true"></div>
        <div class="img-frame sig-art" role="img" aria-label="Cerbi signature artwork: shield + tiles + data flow">
          <!-- Signature artwork: shield crest with node graph over isometric tiles -->
          <svg viewBox="0 0 1200 675" width="100%" height="100%" preserveAspectRatio="xMidYMid slice">
            <defs>
              <linearGradient id="glow" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="var(--accent)" stop-opacity=".7"/>
                <stop offset="100%" stop-color="var(--accent-2)" stop-opacity=".2"/>
              </linearGradient>
              <linearGradient id="tileStroke" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#22171a"/>
                <stop offset="100%" stop-color="#160f11"/>
              </linearGradient>
            </defs>
            <rect width="1200" height="675" fill="transparent"/>

            <!-- iso tiles -->
            <g transform="translate(120,90)" opacity=".9">
              <g fill="#120e10" stroke="url(#tileStroke)" stroke-width="1">
                <g opacity=".9">
                  <polygon points="0,60 60,30 120,60 60,90"/>
                  <polygon points="120,60 180,30 240,60 180,90"/>
                  <polygon points="240,60 300,30 360,60 300,90"/>
                  <polygon points="60,90 120,60 180,90 120,120"/>
                  <polygon points="180,90 240,60 300,90 240,120"/>
                  <polygon points="300,90 360,60 420,90 360,120"/>
                  <polygon points="0,150 60,120 120,150 60,180"/>
                  <polygon points="120,150 180,120 240,150 180,180"/>
                  <polygon points="240,150 300,120 360,150 300,180"/>
                </g>
              </g>
              <g opacity=".7" stroke="url(#glow)" fill="none">
                <path d="M10,170 C140,110 260,210 390,150"/>
                <path d="M40,130 C170,90 290,170 420,130" opacity=".7"/>
              </g>
            </g>

            <!-- node graph linking into shield -->
            <g stroke="var(--accent)" stroke-opacity=".35" fill="none">
              <path d="M720,180 C760,220 820,240 880,220"/>
              <path d="M680,260 C740,300 840,300 920,260"/>
            </g>
            <g fill="#ffd2bf" opacity=".85">
              <circle cx="720" cy="180" r="4"/>
              <circle cx="760" cy="220" r="3.2"/>
              <circle cx="820" cy="240" r="3.2"/>
              <circle cx="880" cy="220" r="4"/>
              <circle cx="680" cy="260" r="3.2"/>
              <circle cx="740" cy="300" r="3.2"/>
              <circle cx="840" cy="300" r="3.2"/>
              <circle cx="920" cy="260" r="4"/>
            </g>

            <!-- shield crest -->
            <g transform="translate(880,340)">
              <defs>
                <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">
                  <feGaussianBlur stdDeviation="6" result="blur"/>
                  <feMerge>
                    <feMergeNode in="blur"/>
                    <feMergeNode in="SourceGraphic"/>
                  </feMerge>
                </filter>
              </defs>
              <path d="M0,0 L80,0 C120,0 160,-10 200,-30 C200,40 170,110 100,140 C30,110 0,40 0,0 Z"
                    fill="url(#shieldGrad)" opacity=".9" filter="url(#softGlow)"/>
              <!-- lock glyph -->
              <g transform="translate(70,40)" fill="#0b1220" opacity=".92">
                <rect x="0" y="30" width="60" height="44" rx="8"/>
                <path d="M18,30 v-8 a18,18 0 0 1 36,0 v8 h-10 v-8 a8,8 0 0 0 -16,0 v8z"/>
              </g>
            </g>

            <circle cx="1040" cy="180" r="120" fill="var(--accent)" opacity=".08"/>
            <circle cx="1060" cy="220" r="80" fill="var(--accent-2)" opacity=".08"/>
          </svg>

          <!-- floating badge element -->
          <svg viewBox="0 0 220 80" class="floating" aria-hidden="true">
            <defs>
              <linearGradient id="badge" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="var(--accent)"/>
                <stop offset="100%" stop-color="var(--accent-2)"/>
              </linearGradient>
            </defs>
            <rect x="0" y="0" width="220" height="80" rx="14" fill="rgba(255,90,49,.1)" stroke="rgba(255,90,49,.35)"/>
            <g transform="translate(16,18)">
              <circle cx="22" cy="22" r="22" fill="url(#badge)"/>
              <g transform="translate(10,10)" fill="#0b1220">
                <rect x="4" y="12" width="16" height="14" rx="3"/>
                <path d="M8,12 v-3 a8,8 0 0 1 8,0 v3z"/>
              </g>
              <text x="64" y="28" fill="#ffe8de" font-family="Inter,ui-sans-serif" font-size="16" font-weight="700">Governance-Ready</text>
            </g>
          </svg>
        </div>
        <div class="img-cap">Signature art ‚Äî shield + tiles + flow. Accent wired to CerbiTheme.</div>
      </div>
    </section>

    <section id="why" class="container section">
      <h2>Why CerbiStream Exists</h2>
      <p class="lead">As applications grow and teams scale across internal squads, contractors, and third-party libraries, logging becomes fragmented and inconsistent‚Äîhurting audits, compliance, and insights.</p>

      <div class="grid">
        <div class="col-4 card tilt reveal"><div class="glare"></div><h3>1. Enforce Structure at the Source</h3><p>Use a simple, fluent API to define log schemas. CerbiStream validates before emitting logs for consistent output.</p></div>
        <div class="col-4 card tilt reveal"><div class="glare"></div><h3>2. Modular by Design</h3><p>Pick only what you need: encryption, governance, telemetry, benchmarking‚Äîno unnecessary bloat.</p></div>
        <div class="col-4 card tilt reveal"><div class="glare"></div><h3>3. Audit-Ready Compliance</h3><p>Encrypt logs, require fields, and exclude forbidden ones to align with HIPAA, GDPR, SOC-2, and internal policy.</p></div>
      </div>

      <div class="space"></div>
      <div class="glass tilt reveal" style="padding:16px">
        <div class="glare" aria-hidden="true"></div>
        <div class="img-frame" role="img" aria-label="Governance analyzer preview">
          <!-- Faux dashboard preview (SVG) -->
          <svg viewBox="0 0 1200 675" width="100%" height="100%" preserveAspectRatio="xMidYMid slice">
            <rect width="1200" height="675" fill="transparent"/>
            <rect x="24" y="20" width="1152" height="60" rx="10" fill="#101826" stroke="#2b1c1f"/>
            <rect x="24" y="100" width="360" height="520" rx="12" fill="#0d0f13" stroke="#2b1c1f"/>
            <rect x="404" y="100" width="772" height="250" rx="12" fill="#0d0f13" stroke="#2b1c1f"/>
            <rect x="404" y="370" width="772" height="250" rx="12" fill="#0d0f13" stroke="#2b1c1f"/>
            <g transform="translate(424,130)" fill="var(--accent)">
              <rect x="0" y="80" width="30" height="60" rx="4"/>
              <rect x="46" y="40" width="30" height="100" rx="4" opacity=".85"/>
              <rect x="92" y="20" width="30" height="120" rx="4" opacity=".7"/>
              <rect x="138" y="60" width="30" height="80" rx="4" opacity=".9"/>
            </g>
            <g transform="translate(44,130)" fill="#ffd2bf">
              <circle cx="6" cy="6" r="4"/>
              <circle cx="6" cy="36" r="4"/>
              <circle cx="6" cy="66" r="4"/>
              <circle cx="6" cy="96" r="4"/>
              <circle cx="6" cy="126" r="4"/>
            </g>
          </svg>
        </div>
        <div class="img-cap">Mock dashboard ‚Äî swap with real screenshot from CerbiShield.</div>
      </div>
    </section>

    <section id="ecosystem" class="container section">
      <h2>The Cerbi Ecosystem</h2>
      <p class="lead">A cohesive suite where each component addresses a critical aspect of enterprise logging.</p>

      <div class="glass" style="padding:8px 12px;overflow-x:auto">
        <table aria-label="Cerbi components matrix">
          <thead><tr><th>Component</th><th>Status</th><th>Purpose</th></tr></thead>
          <tbody>
            <tr><td><strong>CerbiStream</strong></td><td><span class="pill ok">GA</span></td><td>Core .NET logger with structured output, encryption, and governance</td></tr>
            <tr><td><strong>CerbiStream.GovernanceAnalyzer</strong></td><td><span class="pill ok">GA</span></td><td>Static/dynamic schema validator enforcing rules at build and runtime</td></tr>
            <tr><td><strong>CerbiShield</strong></td><td><span class="pill beta">Beta (SaaS soon)</span></td><td>Governance dashboard UI & enforcement engine</td></tr>
            <tr><td><strong>CerbIQ</strong></td><td><span class="pill planned">Phase 2 Planned</span></td><td>Routing, normalization, and fan-out for logs</td></tr>
            <tr><td><strong>CerbiSense</strong></td><td><span class="pill planned">Phase 2 Planned</span></td><td>ML-driven anomaly detection and trend forecasting</td></tr>
          </tbody>
        </table>
      </div>

      <div class="space"></div>
      <div class="grid">
        <div class="col-6 glass tilt" style="padding:16px">
          <div class="glare"></div>
          <h3 style="margin-top:4px">Plugin Model & Logger Flexibility</h3>
          <p>Governance integrates with your preferred logging stack:</p>
          <ul>
            <li>Serilog <span class="k">(plugin released 2025-05-08)</span></li>
            <li>NLog <span class="k">(coming soon)</span></li>
            <li>Microsoft.Extensions.Logging (MEL) <span class="k">(coming soon)</span></li>
          </ul>
          <p class="note" style="background:rgba(255,255,255,.03);border-left:3px solid var(--accent);padding:12px 14px;border-radius:8px">Cerbi governance is logger-agnostic and centered on <strong>CerbiShield</strong>‚Äînot a specific logger.</p>
        </div>
        <div class="col-6 glass tilt" style="padding:16px">
          <div class="glare"></div>
          <div class="img-frame" role="img" aria-label="Governance dashboard preview">
            <img src="/assets/5f97b70d-1514-42ca-a857-0458b1f5a54e.png" alt="CerbiShield Dashboard" style="width:100%;display:block"/>
          </div>
          <p class="k" style="margin-top:8px">Live preview prototype: <a href="https://v0-cerbi-shield-governance-dashboard.vercel.app/" target="_blank" rel="noopener">CerbiShield Dashboard</a></p>
        </div>
      </div>
    </section>

    <section id="governance" class="container section">
      <h2>Governance That Meets Teams Where They Are</h2>
      <p class="lead">Use Serilog today with the plugin, or modernize with CerbiStream. Either way, enforcement runs from the same governance profiles in CerbiShield.</p>
      <div class="grid">
        <div class="col-4 card tilt reveal"><div class="glare"></div><h3>Build-Time Enforcement</h3><p>Roslyn analyzer (CerbiStream) catches violations before they ship.</p></div>
        <div class="col-4 card tilt reveal"><div class="glare"></div><h3>Runtime Enforcement</h3><p>Serilog plugin flags violations at runtime without dropping logs.</p></div>
        <div class="col-4 card tilt reveal"><div class="glare"></div><h3>Compliance Starter Kits</h3><p>Kickstart HIPAA/GDPR-aligned profiles and refine per policy.</p></div>
      </div>

      <!-- Interactive governance demo -->
      <div class="glass reveal" style="padding:16px;margin-top:18px">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px">
          <h3 style="margin:0">Live Rule Check (demo)</h3>
          <div style="display:flex;align-items:center;gap:8px">
            <span class="kbd">PII Field</span>
            <div id="piiSwitch" class="switch" role="switch" aria-checked="false" tabindex="0" aria-label="Toggle PII field"></div>
          </div>
        </div>
        <div class="demo">
          <div class="pane">
            <strong>Input Log</strong>
            <pre><code id="inputJson" class="kbd" aria-live="polite"></code></pre>
          </div>
          <div class="pane">
            <strong>Evaluation</strong>
            <pre><code id="evalJson" class="kbd" aria-live="polite"></code></pre>
          </div>
        </div>
      </div>
    </section>

    <section id="packages" class="container section">
      <h2>NuGet Packages & Trends</h2>
      <p class="lead">All official Cerbi packages are published on NuGet. Below are quick links, live version/download badges, and a 3-month download trend.</p>

      <div class="glass reveal" style="padding:8px 12px;overflow-x:auto">
        <table aria-label="NuGet packages table">
          <thead>
            <tr><th style="min-width:220px">Package</th><th>Version</th><th>Downloads</th><th>Description</th></tr>
          </thead>
          <tbody>
            <tr>
              <td><a href="https://www.nuget.org/packages/CerbiStream/" target="_blank" rel="noopener">CerbiStream</a></td>
              <td><img src="https://img.shields.io/nuget/v/CerbiStream.svg" alt="CerbiStream version badge"/></td>
              <td><img src="https://img.shields.io/nuget/dt/CerbiStream.svg" alt="CerbiStream downloads badge"/></td>
              <td>Core structured logging library for .NET with governance and resilience</td>
            </tr>
            <tr>
              <td><a href="https://www.nuget.org/packages/CerbiStream.GovernanceAnalyzer/" target="_blank" rel="noopener">CerbiStream.GovernanceAnalyzer</a></td>
              <td><img src="https://img.shields.io/nuget/v/CerbiStream.GovernanceAnalyzer.svg" alt="GovernanceAnalyzer version badge"/></td>
              <td><img src="https://img.shields.io/nuget/dt/CerbiStream.GovernanceAnalyzer.svg" alt="GovernanceAnalyzer downloads badge"/></td>
              <td>Roslyn analyzers to enforce governance profiles at build-time</td>
            </tr>
            <tr>
              <td><a href="https://www.nuget.org/packages/Cerbi.Governance.Core/" target="_blank" rel="noopener">Cerbi.Governance.Core</a></td>
              <td><img src="https://img.shields.io/nuget/v/Cerbi.Governance.Core.svg" alt="Governance Core version badge"/></td>
              <td><img src="https://img.shields.io/nuget/dt/Cerbi.Governance.Core.svg" alt="Governance Core downloads badge"/></td>
              <td>Shared governance model contracts and plugins for analyzers and runtime</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="space"></div>
      <div class="img-frame" style="padding:12px">
        <img src="/assets/nuget-trends.png" alt="NuGet trends chart for Cerbi packages" style="width:100%;display:block"/>
        <div class="img-cap">3-month download trend across Cerbi NuGet packages.</div>
      </div>
    </section>

    <section id="compare" class="container section">
      <h2>Compare Against Other Loggers</h2>
      <p class="lead">CerbiStream is lightweight yet governance-first. Below is a feature snapshot compared to popular .NET loggers.</p>
      <div class="glass" style="overflow-x:auto">
        <table aria-label="Logger comparison table">
          <thead>
            <tr><th>Feature</th><th>CerbiStream</th><th>Serilog</th><th>NLog</th><th>Log4Net</th></tr>
          </thead>
          <tbody>
            <tr><td>Structured JSON Logging</td><td>‚úÖ</td><td>‚úÖ</td><td>‚ö†Ô∏è (plugin)</td><td>‚ùå</td></tr>
            <tr><td>Governance Profiles</td><td>‚úÖ</td><td>‚ö†Ô∏è (via plugin)</td><td>‚ùå</td><td>‚ùå</td></tr>
            <tr><td>Encryption Support</td><td>‚úÖ</td><td>‚ùå</td><td>‚ùå</td><td>‚ùå</td></tr>
            <tr><td>Compliance Starter Kits</td><td>‚úÖ</td><td>‚ùå</td><td>‚ùå</td><td>‚ùå</td></tr>
            <tr><td>File Fallback</td><td>‚úÖ</td><td>‚ö†Ô∏è (via sink)</td><td>‚úÖ</td><td>‚úÖ</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="architecture" class="container section">
      <h2>Architecture</h2>
      <p class="lead">CerbiSuite is modular. Each service runs independently but shares governance contracts and telemetry pipelines.</p>
      <div class="img-frame" role="img" aria-label="Cerbi architecture diagram">
        <img src="/assets/architecture-diagram.png" alt="CerbiSuite architecture diagram" style="width:100%;display:block"/>
      </div>
      <div class="img-cap">Architecture overview ‚Äî governance flows from CerbiShield across all logging integrations.</div>
    </section>

    <!-- Simple contact anchor so the nav link works -->
    <section id="contact" class="container section">
      <h2>Contact</h2>
      <p>Questions or trials? Email <a href="mailto:hello@cerbi.io">hello@cerbi.io</a>.</p>
    </section>
  </main>

  <footer class="footer">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap">
      <div>¬© 2025 Cerbi LLC. All rights reserved.</div>
      <div>
        <a href="https://github.com/Zeroshi" target="_blank" rel="noopener">GitHub</a> ¬∑ 
        <a href="#contact">Contact</a> ¬∑ 
        <a href="/privacy.html">Privacy</a>
      </div>
    </div>
  </footer>

  <button id="toTop" class="btn btn-primary" aria-label="Back to top">‚Üë</button>

  <!-- Command palette -->
  <div id="cmdkOverlay" class="cmdk-overlay"></div>
  <div id="cmdk" class="cmdk glass">
    <div class="header">
      <input type="text" placeholder="Search commands‚Ä¶" aria-label="Command palette input"/>
    </div>
    <div class="list" id="cmdkList">
      <div class="item">Go to Governance <span class="kbd">G</span></div>
      <div class="item">View Ecosystem <span class="kbd">E</span></div>
      <div class="item">Open GitHub <span class="kbd">H</span></div>
    </div>
  </div>

  <script>
    // Persisted theme on load
    (function () {
      const saved = localStorage.getItem("cerbi-theme");
      if (saved === "light" || saved === "dark") {
        document.documentElement.setAttribute("data-theme", saved);
      }
    })();

    // Progress bar
    const progress = document.getElementById("progress");
    window.addEventListener("scroll", () => {
      const h = document.documentElement;
      const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight) * 100;
      progress.style.width = scrolled + "%";
    });

    // Spotlight cursor effect
    const spotlight = document.querySelector(".spotlight");
    document.addEventListener("mousemove", e => {
      spotlight.style.setProperty("--mx", e.clientX + "px");
      spotlight.style.setProperty("--my", e.clientY + "px");
    });

    // Theme toggle (with persistence)
    const themeBtn = document.getElementById("themeBtn");
    themeBtn.addEventListener("click", () => {
      const html = document.documentElement;
      const isDark = html.getAttribute("data-theme") === "dark";
      const next = isDark ? "light" : "dark";
      html.setAttribute("data-theme", next);
      localStorage.setItem("cerbi-theme", next);
    });

    // Back to top
    const toTop = document.getElementById("toTop");
    window.addEventListener("scroll", () => {
      if (window.scrollY > 400) toTop.classList.add("show");
      else toTop.classList.remove("show");
    });
    toTop.addEventListener("click", () => window.scrollTo({top:0, behavior:"smooth"}));

    // Mobile nav
    const navToggle = document.getElementById("navToggle");
    const nav = document.getElementById("primaryNav");
    navToggle.addEventListener("click", () => {
      nav.classList.toggle("open");
      navToggle.setAttribute("aria-expanded", nav.classList.contains("open"));
    });

    // Copy buttons
    document.querySelectorAll("[data-copy]").forEach(btn => {
      btn.addEventListener("click", () => {
        const code = document.querySelector(btn.getAttribute("data-copy")).innerText;
        navigator.clipboard.writeText(code);
        btn.textContent = "Copied!";
        setTimeout(() => btn.textContent = "Copy", 2000);
      });
    });

    // Command palette
    const cmdBtn = document.getElementById("cmdBtn");
    const cmdkOverlay = document.getElementById("cmdkOverlay");
    const cmdk = document.getElementById("cmdk");
    function toggleCmd(open){
      cmdk.style.display = open ? "block" : "none";
      cmdkOverlay.style.display = open ? "block" : "none";
    }
    cmdBtn.addEventListener("click", () => toggleCmd(true));
    cmdkOverlay.addEventListener("click", () => toggleCmd(false));
    document.addEventListener("keydown", e => {
      if ((e.metaKey || e.ctrlKey) && e.key === "k"){ e.preventDefault(); toggleCmd(true); }
      if (e.key === "Escape"){ toggleCmd(false); }
    });

    // Demo switch
    const piiSwitch = document.getElementById("piiSwitch");
    const inputJson = document.getElementById("inputJson");
    const evalJson = document.getElementById("evalJson");
    function updateDemo(on){
      const log = { UserId: "12345" };
      if(on) log.SSN = "123-45-6789";
      inputJson.textContent = JSON.stringify(log, null, 2);
      evalJson.textContent = on
        ? JSON.stringify({ violations: ["SSN is forbidden"], status: "non-compliant" }, null, 2)
        : JSON.stringify({ violations: [], status: "ok" }, null, 2);
    }
    piiSwitch.addEventListener("click", () => {
      const isOn = piiSwitch.classList.toggle("on");
      piiSwitch.setAttribute("aria-checked", isOn);
      updateDemo(isOn);
    });
    updateDemo(false);
  </script>
</body>
</html>
